;/*FB_PKG_DELIM*/

__d("LSFilteredThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.i64.neq(a[10],f)?d[0]=a[10]:d[0]=c.i64.cast([0,0]),a[11]!==f?d[1]=a[11]:d[1]="",(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)||a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))&&!(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)&&a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))?c.seq([function(e){return d[3]=a[4]==null?c.i64.cast([-2147483648,0]):a[4],d[4]=a[7]==null?c.i64.cast([0,1]):a[7],d[10]=c.i64.gt(d[4],c.i64.cast([0,1]))&&c.i64.gt(d[3],c.i64.cast([-2147483648,0])),c.sp(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("cursor",d[2]),d[5].set("filter",a[1]),d[5].set("is_after",a[3]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[5].set("reference_thread_key",a[3]?a[5]:a[4]),d[5].set("secondary_filter",d[0]),d[5].set("filter_value",d[1]),d[5].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[6]=c.i64.add(d[11],c.i64.cast([0,0]))):d[6]=c.i64.cast([0,0]),d[7]=c.toJSON(d[5]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,313]),d[7],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[6]).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.ftr(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(247).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[3]==null?c.i64.cast([-2147483648,0]):d[3],minLastActivityTimestampMs:d[4]==null?c.i64.cast([0,1]):d[4],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],threadRangeFilterValue:d[1],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:d[10],isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1}):(b.item,c.fe(c.ftr(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("IGDThreadListItemContext.react",["MWPIsThreadUnread.bs","MWPUsePresenceStatesForThread.bs","MWPUseThreadHasActiveUser.bs","react","useMWPIsThreadMuted"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.createContext,k=i.useContext,l=i.useMemo,m=j(!1),n=j(!1),o=j(void 0);function a(a){var b=a.children,e=a.thread;a=c("useMWPIsThreadMuted")(e);var f=d("MWPUsePresenceStatesForThread.bs").useHook(e),g=d("MWPUseThreadHasActiveUser.bs").useHook(f),i=l(function(){return{isActive:g,lastActivityTimestampMs:e.lastActivityTimestampMs,presenceState:f,snippet:e.snippet}},[g,f,e.lastActivityTimestampMs,e.snippet]);return h.jsx(m.Provider,{value:d("MWPIsThreadUnread.bs").isThreadUnread(e),children:h.jsx(n.Provider,{value:a,children:h.jsx(o.Provider,{value:i,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(m)}function e(){return k(n)}function p(){return k(o)}g.IGDThreadListItemContextProvider=a;g.useIGDThreadListItemIsUnread=b;g.useIGDThreadListItemIsMuted=e;g.useIGDThreadListItemActivity=p}),98);
__d("IGDJoinButtonWithBlockCheck.react",["I64","LSIntEnum","LSRtcCallState","RTWebIncomingRingConfiguration","ReQL","ReQLSuspense","deferredLoadComponent","react","requireDeferredForDisplay","useIsThreadBlocked","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDJoinCallButton.react").__setRef("IGDJoinButtonWithBlockCheck.react"));function j(a){var b=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(b.table("rtc_ongoing_calls_on_threads_v2")).getKeyRange(a).map(function(a){a=a.ongoingCallServerInfoData;return a})},[b,a],f.id+":42")}function k(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(a).map(function(a){a=a.ongoingCallState;return a})},[b,a],f.id+":56")}function a(a){var b;a=a.thread;var e=a.threadKey;b=(b=k(e))!=null?b:d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL);e=j(e);b=!d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))&&!d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_1TO1_CALL));var f=c("useIsThreadBlocked")(),g=d("RTWebIncomingRingConfiguration").isSupportedClient();return!f&&g&&e!=null?h.jsx(i,{isVideo:b,serverInfoData:e,threadKey:a.threadKey,threadType:a.threadType}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreAlertOffNewPanoOutline24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M15.209 18.294a1 1 0 0 0-.707-.293H6.184a2.002 2.002 0 0 1-1.74-2.993l.47-.822a8.34 8.34 0 0 0 1.093-4.174c0-.159.005-.316.017-.471a1 1 0 1 0-1.994-.15 8.093 8.093 0 0 0-.023.63 6.341 6.341 0 0 1-.83 3.175l-.47.822a4.001 4.001 0 0 0 3.477 5.983h1.944a4 4 0 0 0 7.827-.382 1 1 0 0 0-.282-.86Zm-3.207 2.708a2 2 0 0 1-1.732-1.001h3.463a2.017 2.017 0 0 1-1.731 1.001Zm11.205.291-2.521-2.521a4.04 4.04 0 0 0 .976-1.629 3.957 3.957 0 0 0-.356-3.123l-.484-.853A6.358 6.358 0 0 1 20 9.997a7.953 7.953 0 0 0-4.745-7.302 3.972 3.972 0 0 0-6.51.002 8.011 8.011 0 0 0-2.438 1.697L2.707.793a1 1 0 0 0-1.414 1.414l20.5 20.5a1 1 0 0 0 1.414-1.414Zm-3.46-4.728a2.042 2.042 0 0 1-.468.8L7.72 5.805a6.004 6.004 0 0 1 2.068-1.377.998.998 0 0 0 .494-.426 1.976 1.976 0 0 1 3.439 0 1 1 0 0 0 .494.425 5.989 5.989 0 0 1 3.786 5.634 8.303 8.303 0 0 0 1.082 4.094l.483.852a1.975 1.975 0 0 1 .181 1.558Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDThreadListItemEnd.react",["fbt","CometBadge.react","IGDJoinButtonWithBlockCheck.react","IGDSBox.react","IGDThreadListItemContext.react","PolarisCallGatingHelpers","PolarisIGCoreAlertOffNewPanoOutline24Icon","ReQL","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={badge:{backgroundColor:"x1tu34mt",$$css:!0},endMargin:{marginEnd:"x1hwekxz",$$css:!0},muteIcon:{paddingEnd:"x1mpkggp",paddingStart:"x1t2a60a",$$css:!0},noShrink:{flexShrink:"x2lah0s",$$css:!0}};function k(a){var b=a.addEndMargin;a=a.isMuted;var d=h._("__JHASH__NCRbaa_g3bP__JHASH__");return a?i.jsx("div",{className:c("stylex")(j.muteIcon,b?j.endMargin:!1),children:i.jsx(c("PolarisIGCoreAlertOffNewPanoOutline24Icon"),{alt:d,color:"ig-secondary-text",size:15})}):null}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.isUnread;if(a)return i.jsx(c("CometBadge.react"),{colorOverride:[j.badge]});else return null}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("rtc_ongoing_calls_on_threads_v2")).getKeyRange(a).map(function(a){a=a.ongoingCallServerInfoData;return a})},[b,a],f.id+":110")}function a(a){a=a.thread;var b=d("IGDThreadListItemContext.react").useIGDThreadListItemIsMuted(),e=d("IGDThreadListItemContext.react").useIGDThreadListItemIsUnread(),f=m(a.threadKey);f=f!=null;return i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"end",xstyle:j.noShrink,children:f&&d("PolarisCallGatingHelpers").isWebCallingEnabled()?i.jsx(c("IGDJoinButtonWithBlockCheck.react"),{thread:a}):i.jsxs(i.Fragment,{children:[i.jsx(k,{addEndMargin:b&&e,isMuted:b}),i.jsx(l,{isUnread:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListItemSubtitle.react",["fbt","CometMiddot.react","CometRelativeTimestamp.react","I64","IGDPresenceTextForThread.react","IGDSBox.react","IGDSText.react","LSMessagingThreadTypeUtil","MAWThreadCutover.bs","cr:526","cr:6703","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{height:"xmix8c7",width:"xh8yej3",$$css:!0},lockIcon:{flexShrink:"x2lah0s",$$css:!0},middot:{color:"x1roi4f4",flexShrink:"x2lah0s",marginTop:"xdj266r",marginEnd:"xw3qccf",marginBottom:"xat24cr",marginStart:"xsgj6o6",$$css:!0},minWidth:{flexShrink:"x2lah0s",minWidth:"xeuugli",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},timestamp:{whiteSpace:"xuxw1ft",$$css:!0}};function k(a){a=a.visible;return a?i.jsx("span",{className:"x1roi4f4 x2lah0s xdj266r xw3qccf xat24cr xsgj6o6",children:i.jsx(c("CometMiddot.react"),{})}):null}function l(a){var b=a.isUnread,e=a.lastMessageTimestamp;a=a.snippet;var f=d("useIGDDeviceType").useIGDDeviceType();f=f.isMobile;e=e!=null&&!d("I64").equal(e,d("I64").zero)?i.jsx("div",{className:"x2lah0s xeuugli",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:f?"body":"footnote",weight:"normal",children:i.jsx("div",{className:"xuxw1ft",children:i.jsx(c("CometRelativeTimestamp.react"),{date:new Date(d("I64").to_float(e)),format:"minimized"})})})}):null;return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSText.react"),{color:b?"primaryText":"secondaryText",maxLines:1,size:f?"body":"footnote",weight:b?"bold":"normal",children:a}),i.jsx(k,{visible:a!=null&&e!=null}),e]})}function m(a){var e=a.isRestricted,f=a.isSecure,g=a.isUnread,m=a.lastMessageTimestamp,n=a.presenceState,o=a.snippet;a=a.thread;var p=d("useIGDDeviceType").useIGDDeviceType(),q=p.isMobile;p=d("MAWThreadCutover.bs").useIsCutoverSecureThread(a.threadKey);return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:j.content,children:[f&&!p&&b("cr:526")!==null?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"x2lah0s",children:i.jsx(b("cr:526"),{isUnread:g})}),i.jsx(k,{visible:!0})]}):null,e?i.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,weight:"normal",children:h._("__JHASH___6nY1OjPyij__JHASH__")}):b("cr:6703")!=null?i.jsx(b("cr:6703"),{thread:a}):g&&o!==null?i.jsx(l,{isSecure:f,isUnread:g,lastMessageTimestamp:m,snippet:o}):i.jsx(c("IGDPresenceTextForThread.react"),{presenceState:n,renderNullState:function(){return i.jsx(l,{isSecure:f,isUnread:g,lastMessageTimestamp:m,snippet:o})},renderWrapper:function(a){return i.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:q?"body":"footnote",weight:"normal",children:a})}})]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.isRestricted;b=b===void 0?!1:b;var c=a.isUnread,e=a.lastMessageTimestamp,f=a.presenceState,g=a.snippet;a=a.thread;var h=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);return i.jsx("div",{className:"x6s0dn4 x78zum5",children:i.jsx(m,{isRestricted:b,isSecure:h,isUnread:c,lastMessageTimestamp:e,presenceState:f,snippet:g,thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactInternalBadge.react",["IGDSText.react","LSContactBitOffset","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="INTERNAL";function a(a){a=a.contact;a=(a=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(82),a))!=null?a:!1;if(a)return h.jsx("span",{className:"x5keihi x1npaq5j x1c83p5e x1enjb0b x199158v x78zum5 x1q0g3np xsgj6o6 xw3qccf x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:h.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"miniscule",weight:"bold",children:i})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSInternalBadge.react",["I64","LSContactInternalBadge.react","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.thread,e=c("useReStore")(),g=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(b.threadKey).filter(function(a){return!d("I64").equal(a.contactId,g)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(a.contactId),f.id+":44");return[a,b]}).take(2)},[e,b.threadKey,g],f.id+":35");var i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(g)},[e,g],f.id+":54"),j=a.length;if(j>1)return null;else if(j===0){if(i==null)return null;j=i}else{i=a[0];a=i[1];if(a==null)return null;j=a}return h.jsx(c("LSContactInternalBadge.react"),{contact:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWGroupInvitesForThread.bs",["LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);a=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(105),a);if(b&&c)return a;else return!1}g.isGroupInviteThread=a}),98);
__d("useIsThreadSelected",["I64","IGDRouteProvider.react","emptyFunction","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.createContext,j=e.useContext,k=e.useMemo,l=e.useRef,m=e.useSyncExternalStore,n=i({addEventListener:function(){return c("emptyFunction")},getSelectedThreadKey:function(){return void 0}}),o=function(){var a=new Set(),b=void 0,c=function(){for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}},d=function(){return b},e=function(a){b=a,c()},f=function(b){a.add(b);return function(){a["delete"](b)}};return{addEventListener:f,getSelectedThreadKey:d,setSelectedThreadKey:e}};function a(a){a=a.children;var b=l(void 0);b.current||(b.current=o());var c=k(function(){return{addEventListener:b.current.addEventListener,getSelectedThreadKey:b.current.getSelectedThreadKey}},[]);return h.jsxs(h.Fragment,{children:[h.jsx(p,{children:function(a){b.current.setSelectedThreadKey(a);return null}}),h.jsx(n.Provider,{value:c,children:a})]})}a.displayName=a.name+" [from "+f.id+"]";function p(a){a=a.children;var b=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute();return a(b)}function b(a){var b=d("useIGDDeviceType").useIGDDeviceType(),c=b.isDesktop;b=j(n);var e=b.addEventListener,f=b.getSelectedThreadKey;return m(e,function(){var b=f();return c&&!!b&&d("I64").equal(a,b)})}g.SelectedThreadKeyContextProvider=a;g.useIsThreadSelected=b}),98);
__d("useMWPPreloadThread",["JSScheduler","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","ReQL","emptyFunction","promiseDone","react","useCometPreloader","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e,f){var g=c("useReStore")(),i=h(function(){f&&e&&c("JSScheduler").scheduleSpeculativeCallback(function(){f.preload()}),c("promiseDone")(g.runInTransaction(function(b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(g.table("messages_ranges_v2__generated")).getKeyRange(a)).then(function(e){if(e&&!e.isLoadingBefore)return c("LSIssueMessagesRangeQuery")(a,e.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(b))})},"readwrite","ui"))},[JSON.stringify(a),e,f,g]);b=b?c("emptyFunction"):i;return c("useCometPreloader")("button",b,b)}g["default"]=a}),98);
__d("IGDThreadListItem.react",["CometPlaceholder.react","CometTextWithEntities.react","I64","IGDAvatar.react","IGDIsCompactModeContext.react","IGDListCell.react","IGDListCellSelectedContext.react","IGDNavigation","IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","IGDThreadListItemContext.react","IGDThreadListItemEnd.react","IGDThreadListItemSubtitle.react","InteractionTracingMetrics","JSResourceForInteraction","LSIntEnum","LSInternalBadge.react","LSMessagingThreadTypeUtil","LSThreadTitle.react","LSVerificationBadge.bs","MAWGating","MAWGroupInvitesForThread.bs","MWVerticalRhythm","ReQL","asyncToGeneratorRuntime","cr:5855","emptyFunction","promiseDone","react","shallowEqualI64","useCometLazyDialog","useIGDDeviceType","useIsThreadSelected","useMWPPreloadThread","useReStore","useSimpleImpression","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("JSResourceForInteraction")("IGDGroupInvitesDialog.react").__setRef("IGDThreadListItem.react"),k={cell:{width:"xxsgkw5",$$css:!0}},l=[];function m(a){a=a.thread;return h.jsxs(h.Fragment,{children:[h.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",width:244,children:[h.jsx(p,{children:h.jsx(c("LSThreadTitle.react"),{thread:a,transforms:l})}),h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("LSVerificationBadge.bs"),{icon:h.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),thread:a})}),h.jsx(c("IGDSBox.react"),{marginStart:1,children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("LSInternalBadge.react"),{thread:a})})})]}),h.jsx(c("MWVerticalRhythm"),{height:8}),h.jsx(q,{thread:a})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var e=a.hoverStateVisible,f=a.openInbox,g=a.thread,i=b("cr:5855")==null?function(a){return a()}:b("cr:5855").useHook(g.threadKey),l=d("I64").equal(g.parentThreadKey,d("LSIntEnum").ofNumber(-1)),n=d("I64").equal(g.parentThreadKey,d("LSIntEnum").ofNumber(-3)),p=c("useReStore")();c("useSimpleImpression")(function(){var a=d("LSMessagingThreadTypeUtil").isSecure(g.threadType),b=c("InteractionTracingMetrics").currentInteractionLogger();return b.addMetadata("hasSecureThread",a?1:0)});a=c("useCometLazyDialog")(j);var q=a[0];a=d("LSMessagingThreadTypeUtil").isSecure(g.threadType);a=c("useMWPPreloadThread")(g.threadKey,a,!1);var s=a[0];a=a[1];var t=d("useIGDDeviceType").useIGDDeviceType().isMobile,u=d("IGDIsCompactModeContext.react").useIsCompactMode(),v=u?void 0:h.jsx(c("IGDThreadListItemEnd.react"),{thread:g}),w=u?void 0:h.jsx(m,{thread:g});return h.jsx(o,{threadKey:g.threadKey,children:h.jsx(c("IGDListCell.react"),{addOnEnd:v,addOnStart:h.jsx(r,{thread:g}),content:w,hoverStateVisible:e,noopOnPressWhenSelected:!0,onHoverIn:s,onHoverOut:a,onPress:function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(p.table("threads")).getKeyRange(g.threadKey)));if(a==null)return;var b=d("MAWGroupInvitesForThread.bs").isGroupInviteThread(a);d("MAWGating").isGroupInvitesEnabled()&&b?q({onClose:c("emptyFunction"),thread:a},function(){}):yield i(function(){f({clientThreadKey:a.clientThreadKey,threadKey:g.threadKey,threadType:g.threadType},l?"pendingRequests":n?"inboxSpam":"inboxThreadList")})});return function(){return a.apply(this,arguments)}}();c("promiseDone")(a())},role:"row",size:t?"small":"large",testid:void 0,xstyle:!u&&!t&&k.cell})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.children;a=a.threadKey;a=d("useIsThreadSelected").useIsThreadSelected(a);return h.jsx(d("IGDListCellSelectedContext.react").IGDListCellSelectedContextProvider,{selected:a,children:b})}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.children;var b=d("IGDThreadListItemContext.react").useIGDThreadListItemIsUnread();return h.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:1,size:"body",weight:b?"semibold":"normal",children:a})}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.thread;var b=d("IGDThreadListItemContext.react").useIGDThreadListItemIsUnread(),e=d("IGDThreadListItemContext.react").useIGDThreadListItemActivity(),f=e.lastActivityTimestampMs,g=e.presenceState;e=e.snippet;e=e!=null?h.jsx(c("CometTextWithEntities.react"),{maxLines:1,text:e,transforms:l}):null;return h.jsx(c("IGDThreadListItemSubtitle.react"),{isUnread:b,lastMessageTimestamp:f,presenceState:g,snippet:e,thread:a})}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.thread;var b=d("IGDThreadListItemContext.react").useIGDThreadListItemActivity();b=b.isActive;return h.jsx(c("IGDAvatar.react"),{isActive:b,size:"large",thread:a})}r.displayName=r.name+" [from "+f.id+"]";function a(a){a=a.thread;var b=d("useIGDDeviceType").useIGDDeviceType(),e=b.isDesktop;b=d("IGDNavigation").useIGDNavigation();var f=c("useStableCallback")(b.openInbox);d("IGDNavigation").usePreloadRoute(a.threadKey);var g=d("useStableValue").useStableValue({parentThreadKey:a.parentThreadKey,threadKey:a.threadKey,threadName:a.threadName,threadPictureUrl:a.threadPictureUrl,threadPictureUrlExpirationTimestampMs:a.threadPictureUrlExpirationTimestampMs,threadPictureUrlFallback:a.threadPictureUrlFallback,threadSubtype:a.threadSubtype,threadType:a.threadType},d("shallowEqualI64").shallowEqualI64);b=i(function(){return h.jsx(n,{hoverStateVisible:e,openInbox:f,thread:g})},[e,f,g]);return h.jsx(d("IGDThreadListItemContext.react").IGDThreadListItemContextProvider,{thread:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSThreadRangeFilter",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,UNREAD_ONLY:1,GROUPS_ONLY:2,IGD_PRO_PRIMARY:3,IGD_PRO_GENERAL:4,PINNED:5,READ_BUT_UNRESPONDED:6,THREAD_CHAT_LABEL:7,BUSINESS_INBOX_FOLLOW_UP:8,FAMILY_AND_FRIENDS:9,CHANNELS:10,IGD_PRO_CHANNELS:11,BUSINESS_FOLDER_DONE:12,BUSINESS_FOLDER_SPAM:13,BUSINESS_FOLDER_FOLLOW_UP:14,BUSINESS_SECONDARY_FILTER:15,FROM_ADS:16,PRIORITY:17,ASSIGNED_ADMIN:18,COMMUNITIES:19,WORKROOMS_ONLY:20,SUBTHREAD:21,CHANNELS_AND_INVITES:22});f["default"]=a}),66);
__d("MWFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(a,b,c,d,e,f,g){"use strict";g.createFocusTable=d("FocusTable.react").createFocusTable,g.tabbableScopeQuery=d("focusScopeQueries").tabbableScopeQuery}),98);
__d("MWThreadListFocusableTable.react",["MWFocusTable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("MWFocusTable.react").createFocusTable(d("MWFocusTable.react").tabbableScopeQuery);var i=a[0];b=a[1];c=a[2];e=function(a){return h.jsx(i,{allowModifiers:!0,tabScopeQuery:d("MWFocusTable.react").tabbableScopeQuery,wrapX:!0,children:a.children})};g.MWThreadListFocusableTableRow=b;g.MWThreadListFocusableTableCell=c;g.MWThreadListFocusableTableScopeQuery=d("MWFocusTable.react").tabbableScopeQuery;g.MWThreadListFocusableTable=e}),98);
__d("MWIsArmadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("135")===!0}g["default"]=a}),98);
__d("MWThreadListSupportedThreadTypes.bs",["LSIntEnum","MWIsArmadillo","MetaConfig"],(function(a,b,c,d,e,f,g){"use strict";a=[d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(201),d("LSIntEnum").ofNumber(2),d("LSIntEnum").ofNumber(5),d("LSIntEnum").ofNumber(6),d("LSIntEnum").ofNumber(3)].concat(c("MWIsArmadillo")()?[d("LSIntEnum").ofNumber(15),d("LSIntEnum").ofNumber(16)]:[],c("MetaConfig")._("40")||c("MetaConfig")._("41")?[d("LSIntEnum").ofNumber(18),d("LSIntEnum").ofNumber(19),d("LSIntEnum").ofNumber(23)]:[],c("MetaConfig")._("42")?[d("LSIntEnum").ofNumber(150)]:[],c("MetaConfig")._("36")?[d("LSIntEnum").ofNumber(154)]:[],c("MetaConfig")._("32")?[d("LSIntEnum").ofNumber(152)]:[]);g.supportedThreadTypes=a}),98);
__d("MWPFolderFocusedManager.bs",["react","useGlobalEventListener"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a,b){var d=i({_0:void 0,TAG:0}),e=h(function(){var c=d.current;if(c.TAG===0)return;b.current&&a!=null&&a();d.current={_0:void 0,TAG:0}},[a,b]),f=h(function(){var a=d.current;if(a.TAG===0){d.current={_0:void 0,TAG:1};return}});c("useGlobalEventListener")("focus",e,{});c("useGlobalEventListener")("blur",f,{})}g.useWatchFocusChanges=a}),98);
__d("useMWPMarkSeen",["Int64Hooks","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWPMarkSeenDeferred.bs").__setRef("useMWPMarkSeen");function a(a){var b=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(){h.onReady(function(c){var d=function(){return c.markSeen(a,b)};d()})},[b,a])}g["default"]=a}),98);
__d("useMarkSeenWhenVisible",["Int64Hooks","MWPFolderFocusedManager.bs","MetaConfig","ReQL","UserActivity","cr:355","emptyFunction","react","useMWPMarkSeen","useReStore","useSimpleImpression","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useRef;function a(a){var e,f=c("useReStore")(),g=i(!1),j=(e=b("cr:355")==null?void 0:b("cr:355")(a))!=null?e:c("emptyFunction");e=c("useVisibilityObserver")({onHidden:function(){g.current=!1},onVisible:function(){g.current=!0}});var k=c("useMWPMarkSeen")(a),l=h(function(){k(),void j()},[k,j]);d("MWPFolderFocusedManager.bs").useWatchFocusChanges(l,g);c("useSimpleImpression")(l);d("Int64Hooks").useEffectInt64(function(){if(c("MetaConfig")._("46"))return function(){};else return d("ReQL").fromTableDescending(f.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(a).take(1).subscribe(function(){c("UserActivity").isOnTab()&&g.current===!0&&l()})},[f,a,l]);return e}g["default"]=a}),98);
__d("MWPBaseThreadList.react",["Box.react","I64","Int64Hooks","LSFactory","LSFilteredThreadsRangesQuery","LSIntEnum","LSThreadRangeFilter","LSThreadsRangesQuery","MWCMIsThreadBumped","MWIsXacGroupThread.bs","MWThreadListFocusableTable.react","MWThreadListSupportedThreadTypes.bs","MWXacGating.bs","MetaConfig","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","useMarkSeenWhenVisible","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=c("MetaConfig")._("41")===!0,m={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},emptyContentContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function n(a,e,f,g){g===void 0&&(g=!1),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.table("threads_ranges_v2__generated").get(e));if(b==null||b.isLoadingBefore)return;f&&f();return c("LSThreadsRangesQuery")(b.parentThreadKey,!0,!1,b.minThreadKey,b.maxThreadKey,b.maxLastActivityTimestampMs,b.minLastActivityTimestampMs,d("I64").zero,g,c("LSFactory")(a))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}function o(a,e,f,g,h){f===void 0&&(f=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE)),g===void 0&&(g=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE)),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.table("filtered_threads_ranges_v3__generated").get(e));if(b==null||b.isLoadingBefore)return;h&&h();return c("LSFilteredThreadsRangesQuery")(b.parentThreadKey,f,!0,!1,b.minThreadKey,b.maxThreadKey,b.maxLastActivityTimestampMs,b.minLastActivityTimestampMs,void 0,void 0,g,void 0,c("LSFactory")(a))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}function p(a,b,e,f,g,h){e===void 0&&(e=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE));f===void 0&&(f=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE));h===void 0&&(h=!1);if(b==null)return;if(!b.threadRangeFilter){var i=d("ReQL").key(b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs);n(a,i,g,h)}else{i=d("ReQL").key(b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs,b.threadRangeFilter,b.folderName,b.secondaryThreadRangeFilter,b.threadRangeFilterValue);o(a,i,e,f,g)}}function q(a,b,e,f,g,h){h===void 0&&(h=!1),c("promiseDone")(a.runInTransaction(function(a){g==null?void 0:g();if(e==null)return c("LSThreadsRangesQuery")(b,!0,!1,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").zero,h,c("LSFactory")(a));else return c("LSFilteredThreadsRangesQuery")(b,e,!0,!1,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").max_int,void 0,void 0,f,void 0,c("LSFactory")(a))},"readwrite","ui"))}function a(a){var b=a.afterContent,e=a.beforeContent,g=a.customThreadFilter_DO_NOT_USE,n=a.emptyContent,o=a.filter,r=a.gridLabel,s=a.loadMoreThreads,t=s===void 0?p:s;s=a.loadMoreThreadsForEmptyRange;var u=s===void 0?q:s,v=a.onLoadMoreThreads;s=a.onScroll;var w=a.onReachingTop,x=a.onThreadsLoaded,y=a.pageSize,z=a.parentThreadKey,A=a.renderItem,B=a.renderLoadingAnimation,C=a.secondaryFilter,D=a.setIsEmptyInbox,E=a.shouldSkipE2eeThreadsRanges,F=E===void 0?!1:E;E=a.role;E=E===void 0?"grid":E;var G=a.containerStyle,H=a.imperativeRef;a=a.isSufficientContentLoadedBelow;var I=c("useReStore")(),J=d("ReQLSuspense").useFirst(function(){if(o==null)return d("ReQL").fromTableDescending(I.table("threads_ranges_v2__generated")).getKeyRange(z);else return d("ReQL").fromTableDescending(I.table("filtered_threads_ranges_v3__generated")).getKeyRange(z).filter(function(a){return d("I64").equal(a.threadRangeFilter,o)&&(!C||d("I64").equal(a.secondaryThreadRangeFilter,C))})},[I,z,o,C],f.id+":341"),K=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(I.table("pinned_threads").index("pinnedTimestamp"))},[I],f.id+":362"),L=d("ReQLSuspense").useArray(function(){return l?d("ReQL").fromTableAscending(I.table("community_folders")):d("ReQL").empty()},[I],f.id+":368"),M=k(function(){return L.filter(function(a){return a.isHidden}).map(function(a){return d("I64").to_string(a.folderId)})},[L]),N=c("MetaConfig")._("44");J!=null&&!J.isLoadingBefore&&(x&&x());var O=J!=null?d("I64").equal(J.minLastActivityTimestampMs,d("I64").zero)||d("I64").equal(J.minLastActivityTimestampMs,d("I64").one)||(N?d("I64").equal(J.minLastActivityTimestampMs,d("I64").max_int):!1)?null:J.minLastActivityTimestampMs:null,P=J!=null?d("I64").equal(J.maxLastActivityTimestampMs,d("I64").zero)||d("I64").equal(J.maxLastActivityTimestampMs,d("I64").one)?null:J.maxLastActivityTimestampMs:null,Q=d("Int64Hooks").useMemoInt64(function(){var a;return{gte:d("ReQL").key((a=O)!=null?a:d("I64").min_int),lte:d("ReQL").key((a=P)!=null?a:d("I64").max_int)}},[P,O]),R=d("Int64Hooks").useMemoInt64(function(){var a=d("ReQL").fromTableDescending(I.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(z);a=(l?d("ReQL").union(a,d("ReQL").fromTableDescending(I.table("threads").index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(z)):a).filter(function(a){return c("MWCMIsThreadBumped")(a)&&M.includes(d("I64").to_string(a.parentThreadKey))?!1:d("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(b){return d("I64").equal(a.threadType,b)})!==-1&&(!c("MetaConfig")._("45")||K.findIndex(function(b){return d("I64").equal(a.threadKey,b.threadKey)})===-1)&&(d("MWXacGating.bs").isGroupsEnabled()||!d("MWIsXacGroupThread.bs").check(a))&&(!g||g(a))});return d("ReQLPaginatedList.shared").fromIterables(d("ReQL").empty(),a)},[I,z,K,g,M]),S=d("ReQLSuspense").useFirst(function(){return R.descending.bounds(Q)},[Q,R],f.id+":467")==null;j(function(){D&&D(S)},[S,D]);d("Int64Hooks").useEffectInt64(function(){J==null&&u(I,z,o,C,v)},[z,J,I,o,C,v,u]);x=c("useMarkSeenWhenVisible")(z);N=i(function(){t(I,J,o,C,v,F)},[I,t,J,o,C,v,F]);var T=i(function(a){return h.jsx(h.Fragment,{children:A(a)},d("I64").to_string(a.threadKey))},[A]);return J==null?B!=null?B():null:h.jsx(c("Box.react"),{"aria-label":r,"data-testid":void 0,ref:x,role:E,xstyle:[m.container,G],children:h.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:h.jsx(c("ReQLPaginatedList.react"),{bounds:Q,data:R,direction:"desc",hasReachedBottom:!J.hasMoreBefore,hasReachedTop:!J.hasMoreAfter,imperativeRef:H,isSufficientContentLoadedBelow:a,onReachingBottom:N,onReachingTop:w,onScroll:s,pageSize:y,renderEmptyContent:function(){return S&&!J.isLoadingAfter&&!J.isLoadingBefore?h.jsx(c("Box.react"),{xstyle:m.emptyContentContainer,children:n}):null},renderFooter:function(){return b},renderHeader:function(){return e},renderItem:T,renderLoadingAnimation:B,xstyle:m.list})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPThreadIsPage.react",["I64","LSContactType","LSIntEnum","MWPActor.react","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.createContext,j=e.useContext,k=i();function a(a){var b=a.children,e=a.threadKey,g=c("useReStore")(),i=d("MWPActor.react").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,i)}),d("ReQL").fromTableAscending(g.table("contacts")))},[e],f.id+":32");a=a!=null?a[1]:null;a=a!=null?d("I64").equal(a.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)):!1;return h.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(k);if(a!=null)return a;else{c("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_product");return!1}}g.Provider=a;g.useIsPage=b}),98);
__d("useMemoizableRender",["FBLogger","react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a,b){var d=i(new WeakMap());return h(function(e,f){var g=a(e);e=b(e);var h=d.current.get(g);if(!h||!c("shallowEqual")(e,h.props)){f=f(e);d.current.set(g,{element:f,props:e})}h=d.current.get(g);if(!h)throw c("FBLogger")("ig_web").mustfixThrow("memoized is null/undefined. This should never happen.");return h.element},[a,b])}g["default"]=a}),98);
__d("IGDThreadList.react",["CometCompositeStructureContext","I64","IGDInboxLeftColumnPlaceholder.react","IGDListCellPlaceholder.react","IGDProLogging","IGDThreadListItem.react","IgTags_InboxFolder","LSIntEnum","LSThreadRangeFilter","MAWGating","MAWJobDefinitions","MAWTimedJob","MWPBaseThreadList.react","MWPBumpEntityKey","MWPThreadIsPage.react","MWThreadKey.react","ReQL","ReQLSuspense","WAJobOrchestratorTypes","cr:2956","gkx","promiseDone","qex","react","useHasIGBroadcastChannelTab","useIsThreadSelected","useMemoizableRender","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.memo,j=e.useCallback,k=e.useRef,l="list",m={role:l},n=72,o={bottom:n*2,top:n*2},p={shimmerOverlay:{bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},threadListHidden:{opacity:"xg01cxk",$$css:!0}};function q(a,b){return a>b.clientHeight+b.scrollTop+n*2}var r=i(function(a){var b=a.afterContent,e=a.beforeContent,f=a.emptyContent,g=a.gridLabel,i=a.isMessageRequestRoute,n=i===void 0?!1:i;i=a.parentThreadKey;var o=a.proIgFolder;a=a.visible;var r=k(null),s=j(function(){var a;return(a=r.current)==null?void 0:a.getScrollAreaElement()},[]);s=t(s);var u=j(function(a){if(o!=null){return d("I64").equal((a=a.igFolder)!=null?a:d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").PRIMARY),o)}else return!1},[o]),v=j(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.threadlist","load_more_threads");if(n&&d("MAWGating").isArmadillo()&&c("qex")._("235")===!0){var a=d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").jobSerializers.getSpams({priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}));c("promiseDone")(a)}if(o!=null){d("I64").equal(o,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").PRIMARY))?d("IGDProLogging").ODSBumpLoadThreadsPrimary():d("I64").equal(o,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").GENERAL))&&d("IGDProLogging").ODSBumpLoadThreadsGeneral();return d("IGDProLogging").QPLStart()}},[n,o]),w=j(function(){if(o!=null)return d("IGDProLogging").QPLEndSuccess()},[o]),x=c("useHasIGBroadcastChannelTab")();x=o==null?void 0:d("I64").equal(o,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").PRIMARY))?d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").IGD_PRO_PRIMARY):d("I64").equal(o,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").GENERAL))?d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").IGD_PRO_GENERAL):x&&d("I64").equal(o,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").SUBSCRIBER))?d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").IGD_PRO_CHANNELS):void 0;return h.jsx(c("CometCompositeStructureContext").Provider,{value:m,children:h.jsx(d("useIsThreadSelected").SelectedThreadKeyContextProvider,{children:h.jsx(c("MWPBaseThreadList.react"),{afterContent:b,beforeContent:e,containerStyle:!a&&p.threadListHidden,customThreadFilter_DO_NOT_USE:o!=null?u:void 0,emptyContent:f,filter:x,gridLabel:g,imperativeRef:r,isSufficientContentLoadedBelow:c("gkx")("8353")?q:void 0,onLoadMoreThreads:v,onThreadsLoaded:w,pageSize:15,parentThreadKey:i,renderItem:s,renderLoadingAnimation:function(){return h.jsxs(h.Fragment,{children:[h.jsx(c("IGDListCellPlaceholder.react"),{}),h.jsx(c("IGDListCellPlaceholder.react"),{})]})},role:l,shouldSkipE2eeThreadsRanges:c("qex")._("57")===!0})})})});function s(){var a=c("useReStore")(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("sync_groups")).getKeyRange(d("LSIntEnum").ofNumber(1))},[a],f.id+":237");return b==null?"Loading":d("I64").equal(b.syncStatus,d("LSIntEnum").ofNumber(2))?"Complete":"Loading"}function a(a){var b=s();b=b==="Complete";return h.jsxs(h.Fragment,{children:[!b&&h.jsx("div",{className:"x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy",children:h.jsx(d("IGDInboxLeftColumnPlaceholder.react").IGDInboxLeftColumnPlaceholderThreadListLayout,{})}),h.jsx(r,babelHelpers["extends"]({},a,{visible:b}))]})}a.displayName=a.name+" [from "+f.id+"]";function t(a){var b=j(function(a){return a},[]),d=j(function(b){return{onGetScrollAreaElement:a,thread:b}},[a]),e=c("useMemoizableRender")(b,d);return j(function(a){return e(a,function(a){return h.jsx(u,babelHelpers["extends"]({},a))})},[e])}function u(a){var e=a.onGetScrollAreaElement;a=a.thread;a=h.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:a.threadKey,children:h.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,children:h.jsx(c("IGDThreadListItem.react"),{thread:a})})});return b("cr:2956")==null?a:h.jsx(b("cr:2956"),{root:e,rootMargin:o,children:a})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListNullstate.react",["fbt","IGDIsCompactModeContext.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=d("IGDIsCompactModeContext.react").useIsCompactMode();return a?i.jsx("div",{className:"x1p5oq8j xxbr6pl xwxc41k xbbxn1n x15yg21f"}):i.jsx("div",{className:"x1p5oq8j xxbr6pl xwxc41k xbbxn1n xxsgkw5",children:i.jsx(c("IGDSText.react"),{size:"body",textAlign:"center",children:h._("__JHASH__RRc9C6O0xlH__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDInboxThreadListContainer.react",["fbt","CometPagelet.react","I64","IGDProfessionalIGFolderContext.react","IGDSBox.react","IGDSText.react","IGDThreadList.react","IGDThreadListNullstate.react","IgTags_InboxFolder","LSIntEnum","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react").memo;function a(){var a=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),b=d("IGDProfessionalIGFolderContext.react").useIGDProfessionalFolder(),e=d("I64").equal(b,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").SUBSCRIBER));return i.jsx(d("CometPagelet.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6",fallback:null,name:"IGDThreadList",children:i.jsx(c("IGDThreadList.react"),{beforeContent:e?i.jsx(c("IGDSBox.react"),{padding:8,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:h._("__JHASH__1GyPy_Mo6f6__JHASH__")})}):void 0,emptyContent:e?void 0:i.jsx(c("IGDThreadListNullstate.react"),{}),gridLabel:h._("__JHASH__al1TOxgDFFL__JHASH__").toString(),parentThreadKey:d("LSIntEnum").ofNumber(0),proIgFolder:a?b:void 0})})}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("IGDLeftRailContainer.react",["BaseHeadingContext","FocusRegion.react","focusScopeQueries","react","stylex","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={leftRailContainer:{backgroundColor:"xvbhtw8",borderEndColor:"xopu45v",borderEndStyle:"xu3j5b3",borderEndWidth:"xm81vs4",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",minHeight:"x1t2pt76",position:"x1n2onr6",top:"x13vifvy",width:"xezivpi","@media (max-width: 899px)_height":"x1p0ryx0","@media (max-width: 899px)_minHeight":"x1p5gv8h","@media (max-width: 899px)_position":"xoa9owu","@media (min-width: 900px)_maxHeight":"xcoz2nd","@media (min-width: 900px)_minHeight":"xgfcpv","@media (min-width: 900px)_position":"x1es02x0",$$css:!0},leftRailContainerDesktop:{maxWidth:"x13tiff3",$$css:!0}};function a(a){var b=a.activeNowTray,e=a.header,f=a.primaryNav,g=a.testid;g=a.xstyle;a=i(c("BaseHeadingContext"));var k=d("useIGDDeviceType").useIGDDeviceType().isDesktop,l=function(){d("FocusRegion.react").focusRegionById("igd-encrypted-backup-hard-block-interstitial",d("focusScopeQueries").focusableScopeQuery)};return h.jsxs("div",{className:c("stylex")(j.leftRailContainer,k&&j.leftRailContainerDesktop,g),"data-testid":void 0,onFocus:l,children:[e,b,h.jsx(c("BaseHeadingContext").Provider,{value:a+1,children:f!=null&&f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreChevronDownPanoOutline24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 17.502a1 1 0 0 1-.707-.293l-9-9.004a1 1 0 0 1 1.414-1.414L12 15.087l8.293-8.296a1 1 0 0 1 1.414 1.414l-9 9.004a1 1 0 0 1-.707.293Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreChevronDownOutline24Icon",["PolarisIGCoreChevronDownPanoOutline24Icon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreChevronDownPanoOutline24Icon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDAccountSwitcher.react",["BaseButton.react","PolarisGenericStrings","PolarisIGCoreChevronDownOutline24Icon","PolarisNavigationActions","PolarisReactRedux","PolarisRoutes","polarisIsUserLoggedIn","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="direct",j={flex:{alignItems:"x6s0dn4",display:"x78zum5",flexShrink:"xs83m0k",minWidth:"xeuugli",":active_opacity":"x1d5wrs8",$$css:!0},noShrink:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",paddingTop:"x1iorvi4",$$css:!0}};function a(a){a=a.children;var b=d("PolarisReactRedux").useDispatch(),e=function(){b(d("PolarisNavigationActions").openAccountSwitcher({next:d("PolarisRoutes").DIRECT_INBOX,source:i}))};return d("polarisIsUserLoggedIn").isUserLoggedIn()?h.jsxs(c("BaseButton.react"),{onClick:e,xstyle:j.flex,children:[a,h.jsx("div",{className:"x2lah0s x1i64zmx x1iorvi4",children:h.jsx(c("PolarisIGCoreChevronDownOutline24Icon"),{alt:d("PolarisGenericStrings").DOWN_CHEVRON_ALT,size:12})})]}):h.jsx(h.Fragment,{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListHeaderAccountSwitcher.react",["IGDAccountSwitcher.react","IGDInboxLeftColumnPlaceholder.react","IGDSText.react","IGDSVerifiedBadge.react","LSContactVerificationBadge.react","MWPActor.react","MWPMessageAuthor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b)},[b,a],f.id+":47");return e==null||e.secondaryName==null?h.jsx(d("IGDInboxLeftColumnPlaceholder.react").IGDInboxLeftColumnPlaceholderUsernameGlimmer,{}):h.jsxs(c("IGDAccountSwitcher.react"),{children:[h.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1gnnpzl x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:h.jsx(c("IGDSText.react").TitleEmphasized,{maxLines:1,children:String(e.secondaryName)})}),h.jsx("div",{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xl56j7k",children:h.jsx(c("LSContactVerificationBadge.react"),{contact:e,icon:h.jsx(c("IGDSVerifiedBadge.react"),{size:"large"})})})]})}i.displayName=i.name+" [from "+f.id+"]";function a(){var a=d("MWPActor.react").useActor();return h.jsx(d("MWPMessageAuthor.react").MissingContactProvider,{contactId:a,children:h.jsx(i,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSComposeOutlineIcon",["IGDSComposePanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSComposePanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDThreadListNewMessageDialogButton.react",["fbt","IGDEntryPoints","IGDSComposeOutlineIcon","IGDSDialogPlaceholder.react","IGDSIconButton.react","IGDThreadListNewMessageDialogEntrypointProvider.react","JSResourceForInteraction","MWPBumpEntityKey","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","react","useIGDSLazyDialog","useOpenOrCreateThreadFromIGDCandidate","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("JSResourceForInteraction")("IGDThreadListNewMessageDialog.react").__setRef("IGDThreadListNewMessageDialogButton.react");function a(){var a=c("useOpenOrCreateThreadFromIGDCandidate")(),b=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),e=c("useIGDSLazyDialog")(k,function(a){return i.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}),f=e[0];e=j(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.sidebar","new_chat");var e=c("uuidv4")();b==null?void 0:b({eventName:"create_thread",flowInstanceId:e});f({flowInstanceId:e,maxRecipients:31,onSubmit:a})},[b,a,f]);return i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"igd_inbox",children:i.jsx(d("IGDThreadListNewMessageDialogEntrypointProvider.react").IGDThreadListNewMessageDialogEntrypointProvider,{entrypoint:d("IGDEntryPoints").IGDEntryPoints.OMNIPICKER,children:i.jsx(c("IGDSIconButton.react"),{onClick:e,children:i.jsx(c("IGDSComposeOutlineIcon"),{alt:h._("__JHASH__IACR9OarLcm__JHASH__"),color:"ig-primary-text"})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListNewMessageMobileButton.react",["fbt","IGDSComposeOutlineIcon","PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__IACR9OarLcm__JHASH__");function a(){return i.jsx(c("PolarisFastLink.react"),{href:"/direct/new/",children:i.jsx(c("IGDSComposeOutlineIcon"),{alt:j,color:"ig-primary-text"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPThreadsForThreadList.bs",["I64","ReQL.bs","SortedAsyncIterable.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(c!=null){a=d("ReQL.bs").bounds(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")),{hd:b,tl:0}),{NAME:"greaterThan",VAL:{hd:d("I64").zero,tl:0}});b=c.minLastActivityTimestampMs;c=c.maxLastActivityTimestampMs;b=!d("I64").equal(b,d("I64").zero)&&!d("I64").equal(b,d("I64").one)?b:void 0;c=!d("I64").equal(c,d("I64").zero)&&!d("I64").equal(c,d("I64").one)?c:void 0;if(b!=null)if(c!=null)return d("ReQL.bs").bounds(a,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:b,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:c,tl:0}}]});else return d("ReQL.bs").bounds(a,{NAME:"greaterThanOrEqual",VAL:{hd:b,tl:0}});else if(c!=null)return d("ReQL.bs").bounds(a,{NAME:"lessThanOrEqual",VAL:{hd:c,tl:0}});else return a}else return d("SortedAsyncIterable.bs").empty()}g.createIterable=a}),98);
__d("IGDThreadListMessageRequestsBadge.react",["fbt","IGDSButton.react","IGDSText.react","LSIntEnum","MWPActor.react","MWPThreadsForThreadList.bs","PolarisFastLink.react","ReQL","ReQL.bs","ReQLSuspense","react","useIGDDeviceType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads_ranges_v2__generated")).getKeyRange(d("LSIntEnum").ofNumber(-1))},[a],f.id+":33");return d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("MWPThreadsForThreadList.bs").createIterable(a,d("LSIntEnum").ofNumber(-1),e),21)},[a,b,e],f.id+":41").length}function a(){var a=j(),b=a>20;b=a===0?h._("__JHASH__daRy5dfwHXm__JHASH__"):h._("__JHASH__n-pVp5pWLGW__JHASH__",[h._plural(a),h._param("messageRequestCount",b?"20+":a)]);var e=d("useIGDDeviceType").useIGDDeviceType();e=e.isMobile;return e?a===0?null:i.jsx(c("IGDSButton.react"),{href:"/direct/requests/",label:b,variant:"primary_link"}):i.jsx(c("PolarisFastLink.react"),{href:"/direct/requests/",children:i.jsx(c("IGDSText.react"),{color:a>0?"primaryButton":"secondaryText",weight:"semibold",zeroMargin:!0,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListTitleLayout.react",["react","stylex","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1nhvcw1",paddingTop:"xyinxu5",paddingEnd:"xxbr6pl",paddingBottom:"x1a8lsjc",paddingStart:"xbbxn1n",$$css:!0},containerMobile:{paddingTop:"xyinxu5",paddingEnd:"x1pi30zi",paddingBottom:"x1a8lsjc",paddingStart:"x1swvt13",$$css:!0}};function a(a){a=a.children;var b=d("useIGDDeviceType").useIGDDeviceType().isMobile;return h.jsx("div",{className:c("stylex")([i.container,b&&i.containerMobile]),children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;return h.jsx("div",{className:"x1iyjqo2",children:a})}b.displayName=b.name+" [from "+f.id+"]";g.IGDThreadListTitleLayoutContainer=a;g.IGDThreadListTitleLayoutTitle=b}),98);
__d("IGDThreadListTitle.react",["fbt","IGDIsCompactModeContext.react","IGDSText.react","IGDThreadListMessageRequestsBadge.react","IGDThreadListTitleLayout.react","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__Fjs8sbFk0kD__JHASH__");function a(){var a=d("IGDIsCompactModeContext.react").useIsCompactMode(),b=c("qex")._("206")===!0;return a?null:i.jsxs(d("IGDThreadListTitleLayout.react").IGDThreadListTitleLayoutContainer,{children:[i.jsx(d("IGDThreadListTitleLayout.react").IGDThreadListTitleLayoutTitle,{children:i.jsx(c("IGDSText.react").LabelEmphasized,{elementType:"h1",zeroMargin:!0,children:j})}),b?i.jsx(c("IGDThreadListMessageRequestsBadge.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadListHeader.react",["CometPlaceholder.react","IGDEncryptedBackupsSetupType","IGDEntryPoints","IGDInboxLeftColumnPlaceholder.react","IGDIsCompactModeContext.react","IGDMobileNavigationButton.react","IGDNavigation","IGDProfessionalIGFolderContext.react","IGDSectionHeader.react","IGDThreadListHeaderAccountSwitcher.react","IGDThreadListNewMessageDialogButton.react","IGDThreadListNewMessageMobileButton.react","IGDThreadListTitle.react","JSResourceForInteraction","MWLSFeatureLimitedStatus.bs","PolarisEncryptedBackupDialogUtils","PolarisEncryptedBackupsQPLEvents","QPLUserFlow","ReQL","ReQLSuspense","cr:4692","cr:7155","gkx","qex","react","useEncryptedBackupsProcessState","useIGDDeviceType","useIGDSLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.memo,j=e.useEffect,k=c("JSResourceForInteraction")("PolarisEncryptedBackupDialog.react").__setRef("IGDThreadListHeader.react"),l={actionContainer:{display:"x78zum5",$$css:!0},actionContainerCompact:{paddingBottom:"xsag5q8",paddingTop:"x7sb2j6",$$css:!0},root:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingBottom:"xsag5q8",paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"xijc0j3",$$css:!0},rootMobile:{minHeight:"x1gg8mnh",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0}};function a(){var a=c("useIGDSLazyDialog")(k),e=a[0];a=d("useIGDDeviceType").useIGDDeviceType().isMobile;var g=d("IGDIsCompactModeContext.react").useIsCompactMode(),i=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),m=d("IGDNavigation").useIGDNavigation(),n=c("useReStore")(),o=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.table("encrypted_backups"))},[n],f.id+":82");o=c("useEncryptedBackupsProcessState")({encryptedBackupData:o,storage:n});var p=o.backupState;j(function(){c("qex")._("121")===!0&&c("gkx")("7182")===!0&&p===4&&(c("QPLUserFlow").start(d("PolarisEncryptedBackupsQPLEvents").RestoreBackupQplEvent,{annotations:{string:{ENTRY_POINT:d("IGDEntryPoints").IGDEntryPoints.INBOX,SETUP_TYPE:c("IGDEncryptedBackupsSetupType").PIN}}}),e({dialogType:d("PolarisEncryptedBackupDialogUtils").DialogType.Restore,entrypoint:d("IGDEntryPoints").IGDEntryPoints.INBOX}))},[p]);o=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();return!a&&g?h.jsx("div",{className:"xsag5q8 x7sb2j6",children:h.jsx(c("IGDThreadListNewMessageDialogButton.react"),{})}):h.jsxs(h.Fragment,{children:[h.jsx(c("IGDSectionHeader.react"),{endAdornment:h.jsx("div",{className:"x78zum5",children:o?null:a?h.jsx(c("IGDThreadListNewMessageMobileButton.react"),{}):h.jsx(c("IGDThreadListNewMessageDialogButton.react"),{})}),isMobile:a,noBottomBorder:!0,startAdornment:a?h.jsx(c("IGDMobileNavigationButton.react"),{onClick:m.goToFeed}):null,xstyle:[l.root,a&&l.rootMobile],children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(d("IGDInboxLeftColumnPlaceholder.react").IGDInboxLeftColumnPlaceholderUsernameGlimmer,{}),children:h.jsx(c("IGDThreadListHeaderAccountSwitcher.react"),{})})}),b("cr:7155")!=null?h.jsx(b("cr:7155"),{}):null,!i&&h.jsx(c("IGDThreadListTitle.react"),{}),b("cr:4692")!=null?h.jsx(b("cr:4692"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);
__d("IGDInboxLeftRail.react",["CometTransientDialogProvider.react","IGDInboxThreadListContainer.react","IGDLeftRailContainer.react","IGDThreadListHeader.react","cr:6695","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react").memo;function a(a){a=a.xstyle;return h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx(c("IGDLeftRailContainer.react"),{activeNowTray:b("cr:6695")!=null?h.jsx(b("cr:6695"),{}):void 0,header:h.jsx(c("IGDThreadListHeader.react"),{}),primaryNav:h.jsx(c("IGDInboxThreadListContainer.react"),{}),xstyle:a})})}a.displayName=a.name+" [from "+f.id+"]";d=e(a);g["default"]=d}),98);
__d("IGDUseBlockedUserInterstitial.react",["I64","Int64Hooks","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWPActor.react","ReQL","ReQLSuspense","WebStorage","asyncToGeneratorRuntime","recoverableViolation","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return"__BlockOrRestrictUserInterstitial."+a+"__"}function a(a){var e=c("useCometLazyDialog")(c("JSResourceForInteraction")("IGDGroupBlockAlertDialog.react").__setRef("IGDUseBlockedUserInterstitial.react")),g=e[0],i=c("useReStore")(),j=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(i.table("threads")).getKeyRange(a))),k=d("ReQL").mergeJoin(d("ReQL").fromTableAscending(i.table("participants")).getKeyRange(a),d("ReQL").fromTableAscending(i.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,j)}).map(function(a){a[0];a=a[1];return a});k=d("ReQLSuspense").toArray(k,f.id+":62");k=k.filter(function(a){return!d("I64").equal(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))});var l=e!=null?!d("I64").equal(e.parentThreadKey,d("LSIntEnum").ofNumber(-10))&&d("LSMessagingThreadTypeUtil").isGroup(e.threadType)&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(28),e):!1;e=e!=null?d("LSMessagingThreadTypeUtil").isGroup(e.threadType):!1;var m=c("WebStorage").getLocalStorage(),n=h(a),o=m==null?void 0:m.getItem(n);o=o!=null?o==="true":!1;o=!o&&k.length>0&&e&&l;if(!o)return b();k=function(){var a=c("WebStorage").setItemGuarded(m,n,"true");a!=null&&c("recoverableViolation")("Unable to set item at path for BlockedUserInterstitial","messenger_web_product");return b()};return g({onClick:k,onClose:function(){}},function(){})});return function(a){return e.apply(this,arguments)}}(),[j,i,g,a])}g.useHook=a}),98);/*FB_PKG_DELIM*/
__d("PolarisIGCoreCirclePlayPanoIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm5 13.3-6.8 3.9c-.2.1-.5.2-.8.2s-.4-.1-.6-.2c-.5-.3-.8-.7-.8-1.3V8.1c0-.5.3-1 .8-1.3.5-.3 1-.3 1.5 0l6.8 3.9c.5.3.8.8.8 1.3s-.4 1-.9 1.3z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("XPolarisDirectEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/direct/ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("IGDEphemeralButton.react",["IGDSBox.react","IGDSText.react","MWPChatEphemeralButton.bs","PolarisIGCoreCirclePlayPanoIcon","XPolarisDirectEphemeralMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,d=a.connectBottom,e=a.connectTop,f=a.outgoing;return h.jsx(c("MWPChatEphemeralButton.bs"),{attachment:b,backgroundColor:"rgb(var(--ig-highlight-background))",buildURL:function(a){return c("XPolarisDirectEphemeralMediaControllerRouteBuilder").buildURL(a)},connectBottom:d,connectTop:e,outgoing:f,renderContent:function(a,b,d,e){a=f||b==="expired"?"ig-stroke":b==="unseen"?"ig-primary-button":"ig-primary-text";d=f||b==="expired";return h.jsxs(c("IGDSBox.react"),{direction:"row",children:[h.jsx(c("IGDSBox.react"),{marginEnd:2,children:h.jsx(c("PolarisIGCoreCirclePlayPanoIcon"),{alt:(b=e)!=null?b:"",color:a,size:16})}),h.jsx(c("IGDSBox.react"),{justifyContent:"center",children:h.jsx(c("IGDSText.react"),{color:d?"tertiaryText":"primaryText",size:"body",weight:"semibold",children:e})})]})},shouldDisableOnOutgoing:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAttachmentSecure.react",["CometPlaceholder.react","I64","IGDAttachmentAudioPlayer.react","IGDAttachmentUtil","IGDChatImage.react","IGDChatVideo.react","IGDEphemeralButton.react","IGDPlaceholderMessage.react","IGDSticker.react","IGDXMAAttachment.react","LSIntEnum","MAWAttachmentBlob.react","MAWMsg","MAWSecurePlaceholder.react","MessagingAttachmentType","RavenMessagingState","cr:4394","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.attachmentType,f=a.connectBottom,g=a.connectTop,i=a.formatText,j=a.hasText,k=a.message,l=a.outgoing;e!=null?a=d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)):a=!1;if(d("I64").equal(k.displayedContentTypes,d("LSIntEnum").ofNumber(256)))return null;e=a||d("MAWMsg").isMediaMsg(k)||d("MAWMsg").isXMAMsg(k);return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:e?b("cr:4394")==null?h.jsx(c("MAWSecurePlaceholder.react"),{message:k}):h.jsx(b("cr:4394").make,{connectTop:g,message:k,renderAudioAttachment:function(a){return h.jsx(c("IGDAttachmentAudioPlayer.react"),{attachment:a,isSecure:!0,outgoing:l})},renderEphemeralMediaAttachment:function(a){var b=a.ephemeralMediaState;if(b!=null)if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("RavenMessagingState").PERMANENT)))return h.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:f,connectTop:g,isSecure:!0,message:k,outgoing:l});else return h.jsx(c("IGDEphemeralButton.react"),{attachment:a,connectBottom:f,connectTop:g,outgoing:l});else return null},renderImageAttachment:function(a){return h.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:f,connectTop:g,isSecure:!0,message:k,outgoing:l})},renderStickerAttachment:function(a){return h.jsx(c("IGDSticker.react"),{attachment:a,isSecure:!0})},renderVideoAttachment:function(a){return h.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:g,isSecure:!0,message:k,outgoing:l})},renderXMAAttachment:function(a){if(d("IGDAttachmentUtil").isUnsupportedXma(a))return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:l});else if(a.playableUrlMimeType==="image/gif")return h.jsx(c("IGDSticker.react"),{attachment:a});else return h.jsx(c("IGDXMAAttachment.react"),{attachment:a,connectBottom:f,connectTop:g,formatText:i,getHeaderImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header")},getPreviewImageUrlXMA:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},hasText:j,isSecure:!0,message:k,outgoing:l})}}):h.jsx(c("MAWSecurePlaceholder.react"),{message:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDE2EEAttributionThreadContextBanner.react",["fbt","CometLink.react","IGDSBox.react","IGDSLockFilledIcon","IGDSText.react","XInstagramHelpDotComContentControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"x1iymm2a",$$css:!0},linkMargin:{marginStart:"xsgj6o6",$$css:!0},text:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}},k=h._("__JHASH__B_F6DFujXgX__JHASH__"),l=h._("__JHASH__RV-kQJWBDXB__JHASH__"),m=h._("__JHASH__4Vv_6Y5N66l__JHASH__");function a(){var a;a=(a=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();return i.jsxs(c("IGDSBox.react"),{alignItems:"center",color:"secondaryBackground",direction:"column",marginEnd:4,marginStart:4,marginTop:4,maxWidth:445,paddingX:4,paddingY:3,xstyle:j.container,children:[i.jsxs(c("IGDSBox.react"),{direction:"row",children:[i.jsx(c("IGDSBox.react"),{marginEnd:2,children:i.jsx(c("IGDSLockFilledIcon"),{alt:k,color:"ig-primary-text","data-testid":void 0,size:8})}),i.jsx(c("IGDSText.react"),{size:"body",weight:"medium",children:l})]}),i.jsx(c("IGDSBox.react"),{direction:"row",marginTop:2,xstyle:j.text,children:i.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",children:[k,i.jsx(c("CometLink.react"),{href:a,target:"_blank",xstyle:j.linkMargin,children:m})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPIsContextBannerDisabled.bs",["LSIntEnum","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(47),a)}g.isContextBannerDisabled=a}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.renderNullStateDescription,e=a.renderThreadPicture,f=a.renderThreadTitle;a=a.thread;var g=a.nullstateDescriptionText1,i=a.nullstateDescriptionText2,j=a.nullstateDescriptionText3,k=a.nullstateDescriptionType1,l=a.nullstateDescriptionType2,m=a.nullstateDescriptionType3;return d("MWPIsContextBannerDisabled.bs").isContextBannerDisabled(a)?null:h.jsxs(h.Fragment,{children:[e==null?void 0:e(a),f==null?void 0:f(h.jsx(c("LSThreadTitle.react"),{thread:a})),g!=null&&k!=null?(e=b==null?void 0:b(g,k))!=null?e:null:null,i!=null&&l!=null?b==null?void 0:b(i,l):null,j!=null&&m!=null?b==null?void 0:b(j,m):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadContextBanner.react",["fbt","CometLink.react","CometPlaceholder.react","IGDAvatar.react","IGDE2EEAttributionThreadContextBanner.react","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSVerifiedBadge.react","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerificationBadge.bs","MWPThreadContextBanner.react","MWV2GetOtherUser.bs","MWVerticalRhythm","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","getLSContactHref","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={alignCenter:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",textAlign:"x2b8uid",$$css:!0},avatarContainer:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},horizontalPadding:{boxSizing:"x9f619",paddingStart:"xpkgp8e",paddingEnd:"xmns6w2",width:"xh8yej3",$$css:!0},learnMoreLink:{marginStart:"xsgj6o6",$$css:!0},nullStateContainer:{paddingTop:"xz9dl7a",$$css:!0},profileButtonContainer:{paddingBottom:"x1gan7if",paddingTop:"x1p5oq8j",$$css:!0}};function k(a){var b,e=a.descriptionText;a=a.threadType;a=d("LSMessagingThreadTypeUtil").isSecure(a);b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();return i.jsx("div",{className:"xz9dl7a",children:i.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:[e,a?i.jsx(c("CometLink.react"),{color:"primary",href:b,target:"_blank",xstyle:j.learnMoreLink,children:h._("__JHASH__tAm34XgWzqf__JHASH__")}):null]})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.participantsAndContacts;a=a.thread;var e=a.threadType;b=d("MWV2GetOtherUser.bs").useOtherUser(a,b);e=d("LSMessagingThreadTypeUtil").isOneToOne(e);b=b!=null?c("getLSContactHref")(b[1]):void 0;a=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(41),a);return a&&e&&b!=null?i.jsx("div",{className:"x1gan7if x1p5oq8j",children:i.jsx(c("IGDSButton.react"),{display:"block",href:b,label:h._("__JHASH__dwB6QHKUH_P__JHASH__"),variant:"secondary"})}):i.jsx(c("MWVerticalRhythm"),{height:32})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.thread;a=a.threadTitle;return i.jsx("div",{className:"x9f619 xpkgp8e xmns6w2 xh8yej3",children:i.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[i.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("LSVerificationBadge.bs"),{icon:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),thread:b})})]})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.thread,e=b.threadKey,g=b.threadType,h=c("useReStore")();a=d("LSMessagingThreadTypeUtil").isSecure(g);var j=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(h.table("participants")).getKeyRange(e),d("ReQL").fromTableAscending(h.table("contacts")))},[h,e],f.id+":188");return i.jsxs("div",{className:"x6s0dn4 x78zum5 xdt5ytf x2b8uid",children:[i.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:function(a,b){return i.jsx(k,{descriptionText:a,threadType:g})},renderThreadPicture:function(a){return i.jsx("div",{className:"xyamay9 x1l90r2v",children:i.jsx(c("IGDAvatar.react"),{size:"XXL",thread:a})})},renderThreadTitle:function(a){return i.jsx(m,{thread:b,threadTitle:a})},thread:b}),j.length>0&&i.jsx(l,{participantsAndContacts:j,thread:b}),a?i.jsx(c("IGDE2EEAttributionThreadContextBanner.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessageListPageSize",["useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("useIGDDeviceType").useIGDDeviceType();a=a.isMobile;return a?5:10}g["default"]=a}),98);
__d("useIGDIsViewerAdmin",["MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey,e)},[b,a.threadKey,e],f.id+":22");if(g==null)return!1;g=g.isAdmin;return g!=null?g:!1}g["default"]=a}),98);
__d("IGDChatBubble.react",["MWPSolidMessageBubble.bs","PolarisLikeAnimation","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.memo;var i=b.useMemo;function j(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing,j=a.precedesXMA;a=a.showLikeAnimation;var k=i(function(){return g&&!j?{backgroundColor:"#3797F0",paddingBottom:"7px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"7px"}:{backgroundColor:"rgb(var(--ig-highlight-background))",paddingBottom:"7px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"7px"}},[g,j]);return h.jsxs(d("MWPSolidMessageBubble.bs").make,{connectBottom:e,connectTop:f,outgoing:g,precedesXMA:j,style:k,children:[b,a?h.jsx(c("PolarisLikeAnimation"),{likeEventCount:1},"igd-like-animation"):null]})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.connectBottom,d=a.connectTop,e=a.outgoing;a=a.precedesXMA;c=h.jsx(j,{connectBottom:c,connectTop:d,outgoing:e,precedesXMA:a,showLikeAnimation:!1,children:b});if(a)return h.jsx("div",{role:"none",style:{width:"100%"},children:c});else return c}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("IGDMessageSendErrorStatus.react",["IGDSCircleXOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x78zum5 xdt5ytf x13a6bvl x1k2j06m x1n2onr6",children:h.jsx(c("IGDSCircleXOutlineIcon"),{alt:"IGD message send error icon",color:"ig-error-or-destructive","data-testid":void 0,size:12})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageGutterItem.react",["I64","IGDMessageSendErrorStatus.react","IGDMessageSendingStatus.react","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.message;a=a.sendStatusV2;return h.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1kky2od",children:d("I64").equal(a,d("LSIntEnum").ofNumber(1))?h.jsx(c("IGDMessageSendingStatus.react"),{}):d("I64").equal(a,d("LSIntEnum").ofNumber(4))?h.jsx(c("IGDMessageSendErrorStatus.react"),{}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDForwardedContent.react",["IGDSText.react","MWPForwardedContent.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{paddingTop:"x889kno",$$css:!0},textIncoming:{paddingStart:"x1ye3gou",$$css:!0},textOutgoing:{paddingEnd:"xsyo7zv",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent.bs").useTitle(b,a);return h.jsx("div",{className:c("stylex")(i.container,a?i.textOutgoing:i.textIncoming),children:h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDHotlikeEmoji.react",["IGDSHeartPanoFilledIcon","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx(c("IGDSHeartPanoFilledIcon"),{alt:d("PolarisDirectStrings").LIKE_BUTTON_ALT_TEXT,color:"ig-badge",size:44})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("I64").compare(a.attachmentIndex,b.attachmentIndex)}g.orderByUserSelection=a}),98);
__d("IGDRepliedXMAAttachment.react",["BaseImage.react","BaseTheme.react","IGDSText.react","IGDXMAAttachmentItemPreview.react","LSMediaUrl.bs","MWPBaseXMAAttachment.bs","MWPXMAIconParser.bs","react","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={card:{backgroundColor:"x19g9edo",$$css:!0},container:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},decorationIconOverlay:{bottom:"x1ey2m1c",end:"xds687c",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",start:"x17qophe",zIndex:"x1vjfegm",$$css:!0},header:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x13a6bvl",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",zIndex:"x1vjfegm",$$css:!0},headerImage:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",marginEnd:"x1w0mnb",marginStart:"x139jcc6",marginTop:"x9otpla",marginBottom:"x1wsgfga",objectFit:"xl1xv1r",$$css:!0},preview:{position:"x1n2onr6",$$css:!0},previewHeader:{end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},scrim:{backgroundImage:"x1n76ky8",bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};b={"mwp-xma-message-bubble-max-width":"200px"};var k={dark:b,light:b,type:"VARIABLES"};e={"mwp-xma-message-bubble-max-width":"100px"};var l={dark:e,light:e,type:"VARIABLES"};function m(a){return i(function(){var b=d("MWPXMAIconParser.bs").parse(d("LSMediaUrl.bs").Attachment.headerImageUrl(a));b=(b==null?void 0:b.TAG)===1?b._0:null;var c=a.headerTitle;if(b!=null||c!=null)return{imageUrl:b,title:c}},[a])}function n(a){var b=d("LSMediaUrl.bs").Attachment.previewUrl(a);a=d("LSMediaUrl.bs").Attachment.playableUrl(a);b=b!=null||a!=null;a=function(a,b){return d("LSMediaUrl.bs").Attachment.previewUrl(a)};return{getPreviewImageUrlXMA:a,hasPreview:b}}function a(a){var b=a.attachment,d=c("useXMAPreviewIconDecorator.react")(b.previewImageDecorationType),e=m(b);a=n(b);var f=a.getPreviewImageUrlXMA,g=a.hasPreview,i=d!=null,o=e!=null&&!g;return h.jsx(c("BaseTheme.react"),{config:o?k:l,children:h.jsx(c("MWPBaseXMAAttachment.bs"),{attachment:b,connectBottom:!1,connectTop:!1,hasText:!1,renderLayout:function(a){switch(a.layoutType){case"vertical":return h.jsxs("div",{className:c("stylex")([j.container,j.card,g&&j.preview]),children:[(o||i)&&h.jsx("div",{className:c("stylex")([j.header,g&&j.previewHeader]),children:o&&h.jsxs(h.Fragment,{children:[(e==null?void 0:e.imageUrl)!=null&&h.jsx(c("BaseImage.react"),{height:20,src:e.imageUrl,width:20,xstyle:j.headerImage}),(e==null?void 0:e.title)!=null&&h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",children:e.title})]})}),h.jsx("div",{className:"x1ey2m1c xds687c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x17qophe x1vjfegm",children:d}),g&&a.preview!=null&&h.jsxs(h.Fragment,{children:[h.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:a.preview,getPreviewImageUrlXMA:f,size:"small"}),i&&h.jsx("div",{className:"x1n76ky8 x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy"})]})]});case"centered":return"centered";case"horizontal":return"horizontal";case"expired":case"placeholder":return null}}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedAttachment.react",["I64","IGDAttachmentUtil","IGDPlaceholderMessage.react","IGDRepliedUtils","IGDRepliedXMAAttachment.react","IGDSticker.react","LSIntEnum","MWRepliesAttachment.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;a=a.outgoing;var e=c("useReStore")(),g=b==null?void 0:b.replySourceId,i=b==null?void 0:b.threadKey;b=d("ReQLSuspense").useArray(function(){return g!=null&&i!=null?d("ReQL").fromTableAscending(e.table("attachments")).getKeyRange(i,g):d("ReQL").empty()},[e,g,i],f.id+":40").sort(d("IGDRepliedUtils").orderByUserSelection);var j=b.length;if(j===0)return null;else if(j>1)return h.jsx(c("MWRepliesAttachment.react"),{outgoing:a});else{j=b[0];if(d("I64").equal(j.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))if(d("IGDAttachmentUtil").isUnsupportedXma(j))return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,outgoing:a});else if(j.playableUrlMimeType==="image/gif")return h.jsx(c("IGDSticker.react"),{attachment:j});else return h.jsx(c("IGDRepliedXMAAttachment.react"),{attachment:j});else return h.jsx(c("MWRepliesAttachment.react"),{outgoing:a})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMessageBubble.react",["fbt","CometScreenReaderText.react","I64","MWPSolidMessageBubble.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"x5n08af",fontSize:"x1f6kntn",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",$$css:!0}};function a(a){var b=a.children,e=a.message;a=a.xstyle;var f=e.replyToUserId;return i.jsxs(d("MWPSolidMessageBubble.bs").make,{connectBottom:!1,connectTop:!1,outgoing:f!=null?d("I64").equal(e.senderId,f):!1,precedesXMA:!1,style:{backgroundColor:"rgb(var(--ig-highlight-background))"},children:[i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__shPgdhtmHCq__JHASH__")}),i.jsx("div",{className:c("stylex")(j.content,a),children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMedia.react",["fbt","I64","IGDChatImage.react","IGDRepliedMessageBubble.react","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ZBYp1F66CjG__JHASH__"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=b.replyAttachmentId,g=b.replySourceId,h=b.threadKey,l=c("useReStore")(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("threads")).getKeyRange(h)},[l,h],f.id+":47"),n=d("ReQLSuspense").useFirst(function(){return g!=null&&e!=null?d("ReQL").fromTableAscending(l.table("attachments")).getKeyRange(h,g,d("I64").to_string(e)):d("ReQL").empty()},[l,h,g,e],f.id+":51");return n!=null?i.jsx(c("IGDChatImage.react"),{attachment:n,connectBottom:!1,connectTop:!1,isSecure:m!=null?d("LSMessagingThreadTypeUtil").isSecure(m.threadType):!1,maxHeight:340*.6,maxWidth:236*.6,message:b,outgoing:a}):i.jsx(c("IGDRepliedMessageBubble.react"),{message:b,xstyle:k.italic,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedPostXMAAttachment.react",["fbt","IGDRepliedMessageBubble.react","IGDRepliedUtils","IGDXMAAttachment.react","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ZBYp1F66CjG__JHASH__"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=c("useReStore")(),g=b.replySourceId,h=b.threadKey,l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":53"),m=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").fromTableAscending(e.table("attachments")).getKeyRange(h,g):d("ReQL").empty()},[e,g,h],f.id+":58").sort(d("IGDRepliedUtils").orderByUserSelection),n=m.length;if(n===0)return null;else if(n>1)return i.jsx(c("MWRepliesAttachment.react"),{outgoing:a});n=m[0];return n!=null?i.jsx(c("IGDXMAAttachment.react"),{attachment:n,connectBottom:!1,connectTop:!1,getHeaderImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header")},getPreviewImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},isReply:!0,isSecure:l!=null?d("LSMessagingThreadTypeUtil").isSecure(l.threadType):!1,message:b,outgoing:a}):i.jsx(c("IGDRepliedMessageBubble.react"),{message:b,xstyle:k.italic,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedText.react",["CometTextWithEntities.react","IGDChatEmoji.react","IGDRepliedMessageBubble.react","MWChatTextTransform","MWV2MessageIsEmojiOnly.bs","cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.message;a=a.text;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);return d("MWV2MessageIsEmojiOnly.bs").make(a,!1)?h.jsx(c("IGDChatEmoji.react"),{text:a}):h.jsx(c("IGDRepliedMessageBubble.react"),{message:e,children:h.jsx(c("CometTextWithEntities.react"),{maxLength:120,text:f,transforms:d("MWChatTextTransform").epdTextTransforms,truncationStyle:"ellipsis-only",withParagraphs:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedVideo.react",["I64","IGDChatVideo.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var e=a.message;a=a.outgoing;var g=e.replyAttachmentId,i=e.replySourceId,j=e.threadKey,k=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){return i!=null&&g!=null?d("ReQL").fromTableAscending(k.table("attachments")).getKeyRange(j,i,d("I64").to_string(g)):d("ReQL").empty()},[k,g,i,j],f.id+":41");return l!=null?h.jsx(c("IGDChatVideo.react"),{attachment:l,connectTop:!1,isSecure:b,maxHeight:340*.6,maxWidth:236*.6,message:e,outgoing:!1}):h.jsx(c("MWRepliesAttachment.react"),{outgoing:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMessage.react",["IGDMessageContainerWithHighlightBar.react","IGDRepliedAttachment.react","IGDRepliedMedia.react","IGDRepliedPostXMAAttachment.react","IGDRepliedText.react","IGDRepliedVideo.react","MWPBaseRepliedMessage.bs","MWRepliesExpired.react","MWRepliesRemoved.react","MWRepliesSticker.react","MWRepliesStory.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;return h.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!0,children:h.jsx(d("MWPBaseRepliedMessage.bs").make,{isSecureMessage:b,message:e,outgoing:a,renderAttachment:c("IGDRepliedAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderMedia:c("IGDRepliedMedia.react"),renderPost:c("IGDRepliedPostXMAAttachment.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("IGDRepliedText.react"),renderVideo:c("IGDRepliedVideo.react")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDReplySnippet.react",["IGDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x889kno",$$css:!0},containerIncoming:{paddingStart:"xurb0ha",$$css:!0},containerOutgoing:{paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;b=b.replySnippet;if(b!=null)return h.jsx("div",{className:c("stylex")(i.container,a?i.containerOutgoing:i.containerIncoming),children:h.jsx(c("IGDSText.react").Footnote,{color:"secondaryText",children:b})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPHasAttachments",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":23");return a!=null}g["default"]=a}),98);
__d("IGDMessageRow.react",["fbt","CometErrorBoundary.react","CometPressable.react","I64","IGDAttachmentOpen.react","IGDAttachmentSecure.react","IGDChatBubble.react","IGDChatEmoji.react","IGDEqualityUtils","IGDForwardedContent.react","IGDHotlikeEmoji.react","IGDMessageGutterItem.react","IGDMessageListText.react","IGDMessageRowFooter.react","IGDRepliedMessage.react","IGDReplySnippet.react","IGDSText.react","IGDXMAAttachmentUtil","JSResourceForInteraction","LSBitFlag","LSHotEmojiSize","LSIntEnum","MWCMThreadTypes.react","MWLSFeatureLimitedStatus.bs","MWLSThread","MWMessageDeliveryStatus","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPContactContext.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.bs","MWPMessageLoggingWrapper.bs","MWPMessageParsingUtils.bs","MWPMessageS2SLoggingWrapper","MWV2ChatAdminMessage.react","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.bs","MWV2ReplyError.bs","PolarisDoubleTappable","deepEquals","lazyLoadComponent","qex","react","stylex","useCometUniqueID","useMWPHasAttachments"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.memo,k=e.useMemo,l=e.useState,m={alignEnd:{alignItems:"xuk3077",$$css:!0},repliedMessage:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},n=d("LSBitFlag").set(d("LSIntEnum").ofNumber(1),d("LSBitFlag").set(d("LSIntEnum").ofNumber(8),d("LSBitFlag").empty)),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDMessageRowActions.react").__setRef("IGDMessageRow.react"));function p(a){var b=a.isGroupThread,e=a.isLastMessageInGroup;a=a.message;var f=d("MWPContactContext.react").useMWPContactStableContext();f=f.contact;f=f===void 0?{secondaryName:void 0}:f;f=f.secondaryName;var g=f!=null?{url:"/"+f}:void 0;f=h._("__JHASH__q99c5lFvU7E__JHASH__",[h._param("name",f)]);return i.jsx(c("CometPressable.react"),{"aria-label":f,linkProps:g,overlayDisabled:!0,children:i.jsx(c("MWV2MessageProfilePhoto.react"),{isGroupThread:b,isLastMessageInGroup:e,message:a})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.attachmentType,e=a.domElementRef,f=a.formatText,g=a.isGroupThread,j=a.isModal,q=a.isSecureMessage,r=a.isXMAExpired,s=a.message,t=a.nextMessage,u=a.onDoubleClickToLike,v=a.prevMessage,w=a.reactions,x=a.reactionsV2;a=a.stopHoveringRef;var y=d("MWPActor.react").useActor(),z=d("MWPMessageParsingUtils.bs").isStartOfGroup(s,v),A=d("MWPMessageParsingUtils.bs").isEndOfGroup(s,t),B=d("I64").equal(s.senderId,y);y=l(!1);var C=y[0];y=y[1];var D=l(!1),E=D[0];D=D[1];var F=c("useCometUniqueID")(),G=l(!1),H=G[0],I=G[1];G=l(!1);var J=G[0],K=G[1];G=l(!1);var L=G[0];G=G[1];var M=x!=null?x.length>0:w.length>0,N=!B;N=N&&g;var O=s.replyToUserId!=null,P=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(),Q=k(function(){return{dark:{"mwp-message-list-profile-start-padding":"16px"},light:{"mwp-message-list-profile-start-padding":"16px"},type:"VARIABLES"}},[]),R=q?function(a,d,e,f,g,h,j,k){return i.jsx(c("IGDAttachmentSecure.react"),{attachmentType:b,connectBottom:g,connectTop:f,formatText:k,hasText:j,message:a,nextMessage:d,outgoing:h,prevMessage:e})}:function(a,b,d,e,f,g,h,j){return i.jsx(c("IGDAttachmentOpen.react"),{connectBottom:f,connectTop:e,formatText:j,hasText:h,message:a,nextMessage:b,outgoing:g,prevMessage:d})},S=d("I64").equal(s.displayedContentTypes,n),T=c("useMWPHasAttachments")(s),U=d("MWLSThread").useThread(s.threadKey,function(a){return a.threadSubtype});U=U!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(U);if(s.isUnsent)return null;return s.isAdminMessage?s.adminMsgCtaType==="admin_msg_e2ee_thread"?null:i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[i.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:s,nextMessage:t,prevMessage:v}),T&&U&&c("qex")._("400")===!0?R(s,void 0,void 0,!1,!1,B,!1,!1):null]})}):i.jsxs(i.Fragment,{children:[i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBeforeContent,{message:s,prevMessage:v,children:function(){return i.jsx(d("MWV2MessageStartOfGroupContent.bs").make,{domElementRef:e,message:s,prevMessage:v})}}),i.jsxs(d("MWPMessageListRowWithKeyboardInteractions.bs").make,{domElementRef:z?void 0:e,isDialogOpened:L||H||J,isFocused:C,isModal:j,message:s,messageDomID:F,nextMessage:t,outgoing:B,prevMessage:v,setFocused:y,setHovered:D,setIsDialogOpened:G,stopHoveringRef:a,theme:Q,children:[i.jsx(c("MWPBaseMessageRowHeader.react"),{isFirstMessageInGroup:z,isGroupThread:g,message:s,outgoing:B,renderForwardSnippet:function(a,b){return i.jsx(c("IGDForwardedContent.react"),{message:a,outgoing:b})},renderPinnedText:function(a,b){return null},renderReplySnippet:function(a,b){return r?null:i.jsx(c("IGDReplySnippet.react"),{message:a,outgoing:b})},renderTextWrapper:function(a){return i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})},renderTimestamp:void 0}),z&&!N||O?i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}):null,O?i.jsx("div",{className:c("stylex")(m.repliedMessage,B?m.alignEnd:!1),role:"none",children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(d("MWV2ReplyError.bs").make,{outgoing:B})},children:i.jsx(c("IGDRepliedMessage.react"),{isSecureMessage:q,message:s,outgoing:B})})})}):null,i.jsx(c("MWPMessageS2SLoggingWrapper"),{messageId:s.messageId,optimisticMessageId:s.offlineThreadingId,statusType:d("MWMessageDeliveryStatus").getFromSendStatus(s.sendStatusV2).type,children:i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:M,message:s,outgoing:B,renderGutterItem:function(){return i.jsx(c("IGDMessageGutterItem.react"),{message:s})},renderMessageActions:function(){return i.jsx(o,{ariaHidden:j===!1,focused:C||H||L||J||j,hasReactions:M,hovered:E,message:s,outgoing:B,setReportDialogOpen:K,setUnsendDialogOpen:I})},renderProfile:function(){return i.jsx(p,{isGroupThread:g,isLastMessageInGroup:A,message:s})},children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("MWV2ChatErrorBubble.react"),{isReply:O})},children:i.jsx(d("PolarisDoubleTappable").DoubleTappable,{ariaLabel:h._("__JHASH__3VJWAHWf1z___JHASH__").toString(),onDoubleClick:P?void 0:u,role:"button",children:i.jsx(c("MWPBaseMessage.react"),{attachmentRenderPosition:S?"above":"below",checkEmoticon:!1,isFirstMessageInGroup:z,isLastMessageInGroup:A,message:s,nextMessage:t,outgoing:B,prevMessage:v,reactions:w,renderAttachment:function(a,b,c){return R(s,t,v,a,b,B,c,f)},renderEmoji:function(a){var b=a.hotEmojiSize;if(q){if(a.replySnippet!=="You reacted to their story"&&a.replySnippet!=="Reacted to your story")return i.jsx(c("IGDChatEmoji.react"),{text:a.text})}else return b!=null&&d("I64").gt(b,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").NONE))?i.jsx(c("IGDHotlikeEmoji.react"),{}):i.jsx(c("IGDChatEmoji.react"),{text:a.text})},renderMessageBubble:function(a,b,d,e,f){return i.jsx(c("IGDChatBubble.react"),{connectBottom:d,connectTop:b,isSecure:q,message:a,outgoing:f,precedesXMA:e,children:i.jsx(c("IGDMessageListText.react"),{isSecureMessage:q,message:a,outgoing:f,precedesXMA:e})})},renderMessageContainer:function(a,b){return i.jsx(d("MWPMessageLoggingWrapper.bs").make,{messageId:s.messageId,optimisticMessageId:s.offlineThreadingId,xstyle:b,children:a})},renderMessageFooter:function(){return i.jsx(c("IGDMessageRowFooter.react"),{hasReactions:M,isGroupThread:g,message:s,outgoing:B,reactions:w,reactionsV2:x,resetReactionTranslateStyle:r&&!S})},shouldRenderMessageContent:r||!(S&&d("IGDXMAAttachmentUtil").isEmojiReaction(s.text))})})})})}),A?i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";var q=["message","nextMessage","prevMessage","reactions","reactionsV2","attachmentType"];function b(a,b){return d("IGDEqualityUtils").shallowEqual(a,b,function(a,b,d){return q.includes(d)?c("deepEquals")(a,b):a===b})}e=j(a,b);g["default"]=e}),98);
__d("IGDXMAUtils",["I64","LSIntEnum","MNLSXMALayoutType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a!=null&&a.xmaLayoutType!=null?d("I64").equal(a.xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1}g.checkIsXMAExpired=a}),98);
__d("useForwardedRef",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=i(null),c=h(function(c){typeof a==="function"?a(c):a&&(a.current=c),b.current=c},[a]);return[b,c]}g["default"]=a}),98);
__d("useHandleDoubleClickToLike",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWPSendOrRemoveReaction.react","MWChatReactionsUtils.bs","MWPActor.react","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e!=null&&f!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(f)){f=(yield d("ReQL").firstAsync(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,b)}),d("ReQL").fromTableAscending(a.table("contacts"))).map(function(a){a[0];a=a[1];return a})));if(f!=null)return!d("I64").equal(f.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}return!1});return j.apply(this,arguments)}function a(a,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),j=a.threadKey,k=a.messageId,l=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(a,e,"message_double_click");return h(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("threads")).getKeyRange(j)));if(!a)return;var b=(yield i(f,g,j,a.threadType));a=!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(18),a)||b;if(a)return;l(k,d("MWChatReactionsUtils.bs").heartType1,"like")})())},[f,g,j,l,k])}g["default"]=a}),98);
__d("useIGDAutoFitViewport",["PolarisConfig","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){h(function(){if(i(b)&&a.current){var c=a.current,d=[],e=0,f=!1;k(d,window,"touchstart",function(a){e=a.touches[0].clientY},!0);k(d,window,"touchmove",function(a){a=a.touches[0].clientY;a=a-e>0;if(!f)return;!a?(c.style.alignSelf="flex-end",c.scrollIntoView(!1)):(c.style.alignSelf="auto",c.scrollIntoView(!0))},!0);j(d,window.visualViewport,"resize",function(){f=window.innerHeight>window.visualViewport.height,f?(c.style.height=window.visualViewport.height+"px",c.style.alignSelf="flex-end",c.scrollIntoView(!1)):(c.style.height="auto",c.style.alignSelf="auto")});return function(){for(var a=0;a<d.length;a++){var b=d[a];b()}}}},[b,a])}function i(a){return window.visualViewport&&d("PolarisUA").isMobile()&&d("PolarisConfig").isAndroid()&&a()}function j(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}function k(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}g.useIGDAutoFitViewport=a;g.canEnableIGDAutoFitViewport=i}),98);
__d("useMessageAttachment",["MWPMessageHasAttachment.bs","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("MWPMessageHasAttachment.bs").make(a);return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a.threadKey,a.messageId,e],f.id+":25")}g["default"]=a}),98);
__d("IGDMessageList.react",["FBLogger","I64","IGDEqualityUtils","IGDMessageRow.react","IGDMessageSeenStatus.react","IGDXMAUtils","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MAWThreadCutover.bs","MWInboxThreadMessagesSpinner.react","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList.react","MWPMessageListFocusTable.bs","MWPMessageReactions.react","MWV2MessageActionsVisibility.bs","cr:2956","cr:6602","gkx","polarisDebounce","react","shallowEqual","useForwardedRef","useHandleDoubleClickToLike","useIGDAutoFitViewport","useIGDDeviceType","useMessageAttachment","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.forwardRef,j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState,n={container:{paddingStart:"xohu8s8",$$css:!0},messageBubble:{backgroundColor:"x19g9edo",$$css:!0}},o={bottom:500,top:500},p={bottom:100,top:100};function q(a){var e=a.domElementRef,f=a.formatText,g=a.message,i=a.modal,j=a.nextMessage,k=a.onGetScrollAreaElement,l=a.prevMessage,m=a.stopHoveringRef;a=a.thread;var n=d("useIGDDeviceType").useIGDDeviceType();n=n.isMobile;var q=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),r=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);q=q?d("I64").equal(a.threadKey,g.threadKey):!1;var s=c("useStableCallback")(c("useHandleDoubleClickToLike")(g,q)),t=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),a),u=d("MWPMessageReactions.react").useNonZeroCountReactionsV2(g),v=d("MWPMessageReactions.react").useReactions(g),w=c("useMessageAttachment")(g),x=d("IGDXMAUtils").checkIsXMAExpired(w);w=h.jsxs(h.Fragment,{children:[h.jsx(c("IGDMessageRow.react"),{attachmentType:w==null?void 0:w.attachmentType,domElementRef:e,formatText:f,isGroupThread:r,isModal:i===g.messageId,isSecureMessage:q,isXMAExpired:x,message:g,nextMessage:j,onDoubleClickToLike:s,prevMessage:l,reactions:v,reactionsV2:t?u:void 0,stopHoveringRef:m}),j!=null?null:h.jsx(c("IGDMessageSeenStatus.react"),{message:g,thread:a})]});return b("cr:2956")==null?w:h.jsx(b("cr:2956"),{root:k,rootMargin:n?p:o,children:w})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b,e,f,g){var i=l(new WeakMap()),k=d("useStableValue").useStableValue({capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},d("IGDEqualityUtils").shallowEqualI64);return j(function(a){var d=i.current.get(a.message),j=babelHelpers["extends"]({},a,{formatText:f,modal:b,onGetScrollAreaElement:g,stopHoveringRef:e,thread:k});if(!d||!c("shallowEqual")(j,d.props)){d=h.jsx(q,babelHelpers["extends"]({},j));i.current.set(a.message,{props:j,row:d})}j=i.current.get(a.message);if(!j)throw c("FBLogger")("ig_web").mustfixThrow("memoizedRow is null/undefined. This should never happen.");return j.row},[f,b,g,e,k])}function s(a){a=a.scrollTop;return a>100}function a(a,e){var f=a.formatText;f=f===void 0?!1:f;var g=a.pageSize,i=a.renderHeader,l=a.thread;a=c("useForwardedRef")(e);var o=a[0];e=a[1];a=d("MAWGating").isThreadLevelCutoverEnabled();var p=d("MAWThreadCutover.bs").useIsCutoverSecureThread(l.threadKey),q=d("MAWThreadCutover.bs").useCutoverOpenThread(l.threadKey),t=d("useIGDDeviceType").useIGDDeviceType(),u=t.isMobile;t=m(!1);var v=t[0],w=t[1];k(function(){function a(){w(document.activeElement!=null)}var b=c("polarisDebounce")(a,1e3);u&&window.addEventListener("resize",b);return function(){u&&window.removeEventListener("resize",b)}},[u,v]);t=d("LSMessagingThreadTypeUtil").isSecure(l.threadType);var x=d("LSMessagingThreadTypeUtil").isGroup(l.threadType),y=d("MWPAriaLabelForMessageListGrid.bs").useHook(l),z=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef(),A=t?!x:!0;t=m("");x=t[0];t=t[1];var B=j(function(){var a;return(a=o.current)==null?void 0:a.getScrollAreaElement()},[o]);z=r(l,x,z,f,B);f=d("Int64Hooks").useCallbackInt64(function(){return A&&b("cr:6602")!=null?h.jsx(b("cr:6602").MWPTypingIndicators,{checkPresenceSettings:!0,containerStyle:n.container,messageBubbleStyle:n.messageBubble,threadKey:l.threadKey,threadType:l.threadType}):null},[A,l.threadKey,l.threadType]);B=j(function(){return c("gkx")("8724")},[]);return a&&p&&q==null?h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):h.jsx(d("MWPMessageListFocusTable.bs").make,{ariaLabel:y,modal:x,setModal:t,children:h.jsx(c("MWPBaseMessageList.react"),{isSufficientContentLoadedAbove:s,onUserScroll:d("useIGDAutoFitViewport").canEnableIGDAutoFitViewport(B)?void 0:function(){if(u&&v){var a;(a=document.activeElement)==null?void 0:a.blur()}},pageSize:g,ref:e,renderFooter:f,renderHeader:i,renderLoadingAnimation:function(){return h.jsx(c("MWInboxThreadMessagesSpinner.react"),{delayMs:200})},renderRow:z,secondaryThread:q,thread:l})})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);
__d("IGDDeleteOpenThread",["LSFactory","LSIntEnum","LSOptimisticRemoveThread","LSThreadRemoveType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.runInTransaction(function(a){return c("LSOptimisticRemoveThread")(b.threadKey,d("LSIntEnum").ofNumber(c("LSThreadRemoveType").DELETE_THREAD),c("LSFactory")(a))},"readwrite")}g.deleteOpenThread=a}),98);
__d("IGDDeleteSecureThread",["MAWBridgeSendAndReceive","MAWGating","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","Promise","WAJobOrchestratorTypes","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return d("MAWMiActOnActThreadReady").onActThreadReady(a,c.threadKey,"IGDDeleteSecureThread.bs",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){d("MAWGating").isAppSyncDeleteThreadEnabled()?yield d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatId:c,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}})):yield b("Promise").resolve();return d("MAWBridgeSendAndReceive").sendAndReceive("backend","deleteThread",{threadId:c})});return function(b,c,d){return a.apply(this,arguments)}}())}g.deleteSecureThread=a}),98);
__d("MessageRequestsLog",["I64","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),i=c("requireDeferred")("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),j=c("requireDeferred")("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),k=c("requireDeferred")("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),l=c("requireDeferred")("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),m=c("requireDeferred")("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),n=c("requireDeferred")("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),o=c("requireDeferred")("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function p(a){switch(a.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function a(a,b,c){k.onReady(function(e){e.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:c,other_user_id:b,request_id:void 0,thread_folder:p(a),thread_id:c!=null?c:d("I64").to_string(a.threadKey),thread_type:d("I64").to_int32(a.threadType)}})})}function b(a,b){n.onReady(function(c){c.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:b,request_id:void 0,thread_folder:p(a),thread_id:d("I64").to_string(a.threadKey),thread_type:d("I64").to_int32(a.threadType)}})})}function e(a,b,c,e){m.onReady(function(f){f.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:e,other_user_id:c,request_id:void 0,thread_folder:p(a),thread_id:e!=null?e:d("I64").to_string(a.threadKey),thread_type:d("I64").to_int32(a.threadType)}})})}function f(a,b,c,e){l.onReady(function(f){f.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:e,other_user_id:c,request_id:void 0,thread_folder:p(a),thread_id:e!=null?e:d("I64").to_string(a.threadKey),thread_type:d("I64").to_int32(a.threadType)}})})}function q(a,b){o.onReady(function(c){c.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:b,request_id:void 0}})})}function r(a,b,c,d,e){j.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function s(a,b,c,d,e){h.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function t(a,b,c){i.onReady(function(d){d.log(function(){return{action:b,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:c,request_id:void 0}})})}g.logMessageRequestInfoShown=a;g.logDenialOptionsTapped=b;g.logActionTapped=e;g.logActionConfirmed=f;g.logMessageRequestsView=q;g.logMessageRequestsBulkActionTapped=r;g.logMessageRequestsBulkActionConfirmed=s;g.logMessageRequestsBulkActionEdit=t}),98);/*FB_PKG_DELIM*/
__d("LSGetLocalizedReplySnippet",["LSGetThreadParticipantDisplayName","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.seq([function(e){return c.i64.eq(a[1],d[0])?c.seq([function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2421884758]),f).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2676961947]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,3298086032]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.seq([function(e){return c.i64.eq(a[1],a[2])?c.seq([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,3873263038]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,2616853333]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}]):c.seq([function(e){return c.i64.eq(a[1],d[0])?c.seq([function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,4002265907]),f).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2663996736]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,2868699317]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.seq([function(e){return c.i64.eq(a[1],a[2])?c.seq([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,2688620547]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,3544071775]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:c.i64.cast([0,20])})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],c.i64.cast([0,1])))}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,d.primarySortKey,d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey],c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],f)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=f[0],c[11]=f[1],c[12]=f[2],c[13]=f[3],c[14]=f[4],c[15]=f[5],c[16]=f[6],c[17]=f[7],c[18]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=f[0],c[11]=f[1],c[12]=f[2],c[13]=f[3],c[14]=f[4],c[15]=f[5],c[16]=f[6],c[17]=f[7],c[18]=f[8],f)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=f[0],c[21]=f[1],c[22]=f[2],c[23]=f[3],c[24]=f[4],c[25]=f[5],c[26]=f[6],c[27]=f[7],c[28]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=f[0],c[21]=f[1],c[22]=f[2],c[23]=f[3],c[24]=f[4],c[25]=f[5],c[26]=f[6],c[27]=f[7],c[28]=f[8],f)})},function(d){return c[32]=b.i64.or_(b.i64.cast([0,2]),b.i64.or_(!c[3]&&!a[3]?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.or_(c[3]?b.i64.cast([0,0]):b.i64.cast([0,1]),b.i64.or_(b.i64.eq(c[5],b.i64.cast([0,60]))||b.i64.eq(c[5],b.i64.cast([0,80]))?b.i64.cast([0,1048576]):b.i64.cast([0,0]),b.i64.neq(c[6],b.i64.cast([85970,924785702]))&&b.i64.neq(c[6],b.i64.cast([85970,1004785694]))&&b.i64.neq(c[6],b.i64.cast([85970,1044785690]))?b.i64.cast([0,0]):b.i64.cast([0,2097152]))))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[12],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[32],b.i64.cast([0,16])):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[30],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[22],b.i64.cast([0,16])):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[1]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[16],d[17],f,f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,additionalThreadContext:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,40])))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,c.i64.cast([0,0]),f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[54]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[f,f],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=h.replyType==null?c.i64.cast([0,0]):h.replyType,c.seq([function(e){return c.sp(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],h.text,d[50],d[51],f,f,f,f,f,f,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.gt(a[0],c.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],f)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSAppendDataTraceAddon.bs",["LSAppendDataTraceAddon","LSFactory","Promise","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e,f,g,h,i){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return b("Promise").resolve();else{return c("LSAppendDataTraceAddon")(e,f,g,(d=h)!=null?d:"",(e=i)!=null?e:"",c("LSFactory")(a))}}g.call=a}),98);
__d("LSAppendDataTraceAddon.nop",["LSAppendDataTraceAddon.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g,h){return d("LSAppendDataTraceAddon.bs").call(a,b,c,e,f,g,h)};g["default"]=a}),98);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,b.i64.cast([0,20]))}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:d,imageUrlFallback:d,imageUrlExpirationTimestampMs:d,imageUrlMimeType:d})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],c.i64.cast([0,3]),d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],d[22]=a[22].get("image_url"),a[22],d[23]=a[22].get("image_url_fallback"),a[22],d[24]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[25]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=c.i64.cast([0,7])}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],c.i64.cast([53057,267535043]))&&c.i64.neq(a[7],c.i64.cast([85970,924785702]))&&c.i64.neq(a[7],c.i64.cast([85970,1004785694]))&&c.i64.neq(a[7],c.i64.cast([85970,1044785690]))?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],c.i64.cast([0,1]),f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=c.i64.cast([0,2])}]):c.resolve(d[11]=c.i64.cast([0,1]))},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string(c.i64.cast([0,46])),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[24],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23],skipUrlPreviewGen:a[25],textHasLinks:a[26]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string(c.i64.cast([0,1]))),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("IGDBroadcastChannelLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("IGDBroadcastChannelLogger").__setRef("IGDBroadcastChannelLoggerDeferred");function a(a){h.onReady(function(b){return b.log(a)})}g.log=a}),98);
__d("useIGDBroadcastChannelLogger",["I64","IGDBroadcastChannelLoggerDeferred","Int64Hooks","ReQL","ReQLSuspense","asyncToGeneratorRuntime","usePolarisViewer","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=c("useReStore")(),f=c("usePolarisViewer")(),g=d("I64").of_string((f=f==null?void 0:f.id)!=null?f:"0"),i=h(a);f=d("Int64Hooks").useCallbackInt64(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){return a.consistentThreadFbid})):null;d("IGDBroadcastChannelLoggerDeferred").log(babelHelpers["extends"]({},b,{actor_id:d("I64").to_string(g),consistent_thread_fbid:c!=null?d("I64").to_string(c):void 0,ig_thread_id:(b=i)!=null?b:void 0}))});return function(a){return c.apply(this,arguments)}}(),[g,e,i,a]);return f}function h(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("ig_thread_info")).getKeyRange(a)},[b,a],f.id+":62");return(e=e==null?void 0:e.igThreadId)!=null?e:""}g["default"]=a}),98);
__d("IGDBroadcastChannelLoggingShapes",[],(function(a,b,c,d,e,f){"use strict";a={action:"tap",event:"message_options_rendered",parent_surface:"broadcast",source:"message_options_dot_menu",surface:"thread_view"};b={action:"tap",event:"end_chat_dialog_rendered",parent_surface:"broadcast",source:"end_chat_cta_button",surface:"thread_details"};c={action:"tap",event:"thread_end_successful",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"};d={action:"tap",event:"thread_end_attempt",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"};e={action:"tap",event:"thread_end_error",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"};var g={action:"tap",event:"thread_end_cancel",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"},h={action:"view",event:"retrieve_polls_responses_details",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},i={action:"view",event:"poll_responses_render_error",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},j={action:"view",event:"poll_responses_render_successful",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},k={action:"tap",event:"retrieve_message_reactions_details",parent_surface:"instagram",source:"view_reactions_button",surface:"thread_view"},l={action:"view",event:"message_reactions_render_error",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},m={action:"view",event:"message_reactions_render_successful",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},n={action:"view",event:"fetch_seen_active_count_error",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},o={action:"view",event:"fetch_seen_active_count_successful",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},p={action:"tap",event:"thread_create_attempt",parent_surface:"broadcast",source:"create_broadcast_chat_button",surface:"chat_setup"},q={action:"view",event:"thread_create_successful",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"thread_view"},r={action:"view",event:"thread_create_error",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"chat_setup"},s={action:"view",event:"broadcast_chat_option_viewed",parent_surface:"broadcast",source:"omnipicker_view",surface:"dm_creation_omnipicker"},t={action:"tap",event:"creator_nux_sheet_rendered",parent_surface:"broadcast",source:"create_broadcast_chat_item",surface:"dm_creation_omnipicker"},u={action:"tap",event:"chat_setup_sheet_rendered",parent_surface:"broadcast",source:"create_broadcast_chat_item",surface:"dm_creation_omnipicker"},v={action:"tap",event:"chat_setup_sheet_rendered",parent_surface:"broadcast",source:"get_started_button",surface:"broadcast_chat_creator_nux"},w={action:"impression",event:"exit_chat_setup_sheet",parent_surface:"broadcast",source:"back_button",surface:"chat_setup"};f.MESSAGE_OPTIONS_RENDERED_SHAPE=a;f.END_CHAT_DIALOG_RENDERED_SHAPE=b;f.THREAD_END_SUCCESSFUL_SHAPE=c;f.THREAD_END_ATTEMPT_SHAPE=d;f.THREAD_END_ERROR_SHAPE=e;f.THREAD_END_CANCEL_SHAPE=g;f.POLL_DETAIL_DIALOG_RENDERED_SHAPE=h;f.POLL_DETAIL_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=i;f.POLL_DETAIL_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=j;f.REACTIONS_FOOTER_BUTTON_CLICK_SHAPE=k;f.REACTIONS_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=l;f.REACTIONS_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=m;f.SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE=n;f.SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE=o;f.CREATE_BROADCAST_CHANNEL_ATTEMPT_SHAPE=p;f.CREATE_BROADCAST_CHANNEL_SUCCESS_SHAPE=q;f.BROADCAST_CHANNEL_SUCCESS_FAILURE_SHAPE=r;f.BROADCAST_CHAT_OPTION_VIEWED_SHAPE=s;f.CREATOR_NUX_SHEET_RENDERED_SHAPE=t;f.CHAT_SETUP_SHEET_RENDERED_SHAPE=u;f.CHAT_SETUP_SHEET_RENDERED_FROM_NUX_SHAPE=v;f.EXIT_CHAT_SETUP_SHEET_SHAPE=w}),66);
__d("LSThreadAttributionStore.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var c;a=(c=(c=h.get(b))!=null?c:a)!=null?c:{_0:"unknown",TAG:1};h["delete"](b);return a}function b(a,b){h.set(a,{_0:b,TAG:1})}function c(a,b){b=d("I64").of_string(b);h.set(a,{_0:b,TAG:0})}function e(a){h.set("",{_0:a,TAG:1})}function f(){var a=h.get("");if(a==null||a.TAG===0)return"unknown";else return a._0}g.getSource=a;g.setSource=b;g.setLSMessagingThreadAttribution=c;g.setSourceForNewThread=e;g.getSourceForNewThread=f}),98);
__d("LSThreadAttributionTypeUtil.bs",["I64","LSIntEnum","LSMessagingThreadAttributionType","LSThreadAttributionStore.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("LSThreadAttributionStore.bs").getSource({_0:b,TAG:1},d("I64").to_string(a));if(b.TAG===0)return b._0;a=b._0;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="inboxPendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_PENDING_REQUESTS);else if(a==="fullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT);else if(a==="sidebarGroupsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_GROUPS);else if(a==="jewel")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_THREAD_LIST);else if(a==="shop")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MINI_SHOP_VIEW_MENU_BUTTON);else if(a==="chatheadsOverflow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_OVERFLOW);else if(a==="hovercard"||a==="feedDynamicHoverCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_DYNAMIC_HOVER_CARD);else if(a==="search"||a==="messengerUniversalSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_UNIVERSAL_SEARCH);else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY);else if(a==="timeline"||a==="feedOrganicPost")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="pageAboutCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_ABOUT_CARD);else if(a==="inboxInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_IN_THREAD);else if(a==="notificationInThreadReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_NOTIFICATION_IN_THREAD_REPLY);else if(a==="archieve")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_ARCHIVED_THREADS);else if(a==="storyViewerSheetRow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY_VIEWER_SHEET_ROW);else if(a==="chatheadsNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_NEW_MESSAGE);else if(a==="event")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_EVENT);else if(a==="jewelSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_SEARCH);else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX);else if(a==="jewelNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NEW_MESSAGE);else if(a==="pendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST);else if(a==="sidebarSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_SEARCH);else if(a==="inboxRemainingThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_REMAINING_THREADS);else if(a==="pagesHeader")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON);else if(a==="inboxRecentThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_RECENT_THREADS);else if(a==="chatheads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS);else if(a==="pageResponsivenessCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_RESPONSIVENESS_CONTEXT_CARD);else if(a==="inboxSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_MESSAGE_SEARCH);else if(a==="jewelNestedFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NESTED_FOLDER);else if(a==="marketplace")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MARKETPLACE_SEND_MESSAGE);else if(a==="feedOrganicPostViewAndMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE);else if(a==="adsCta")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA);else if(a==="chatInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_IN_THREAD);else if(a==="payments")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").PAYMENTS);else if(a==="inboxFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_NESTED_FOLDER);else if(a==="inboxArchived")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ARCHIVED_THREADS);else if(a==="inboxActiveContacts")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ACTIVE_CONTACTS);else if(a==="sidebarContactsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_LIST);else if(a==="sidebarCommunityChatsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_COMMUNITY_CHATS);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN)}g.getSource=a}),98);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3});f["default"]=a}),66);
__d("LSMessagingInitiatingSourceHook.bs",["LSIntEnum","LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX);else if(a==="FullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT);else return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT)}g.useHook=a}),98);
__d("LSMessagingSource",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();switch(a){case"Inbox":return"inboxInThread";case"FullscreenChat":return"fullscreenChat";case"ChatTab":return"chatInThread";default:return"unknown"}}g.useHook=a}),98);
__d("MWChatMessageId",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.TAG){case 0:case 1:return;case 2:return a._0.messageId}}function b(a){switch(a.TAG){case 0:case 1:return;case 2:return a._0.threadId}}function c(a){switch(a.TAG){case 0:case 1:return;case 2:return a._0.timestamp}}function e(a,b,c){return{_0:{messageId:b,threadId:d("I64").of_string(a),timestamp:d("I64").of_string(c)},TAG:2}}function f(a){return{_0:{messageId:a,threadId:d("I64").zero,timestamp:d("I64").zero},TAG:2}}var h={_0:{messageId:"",threadId:d("I64").zero,timestamp:d("I64").zero},TAG:2};g.getMessageId=a;g.getThreadId=b;g.getTimestamp=c;g.makeSent=e;g.emptyForExamplesWithId=f;g.emptyForExamples=h}),98);
__d("IGDSEmoji.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.emoji;a=a.fontSize;return h.jsx("span",{className:"x15yrdiy",style:a!=null?{fontSize:a}:void 0,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f,g){function a(){return window.document&&window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(c("UserAgent").isBrowser("Firefox < 41")||c("UserAgent").isPlatform("iOS < 10.3"))||c("UserAgent").isBrowser("Chrome >= 43")}function h(a,b){b=b||document.body;if(!b)return!1;var d=document.activeElement,e=!0,f=document.createElement("textarea");b.appendChild(f);f.value=a;if(c("UserAgent").isPlatform("iOS >= 10.3")){a=document.createRange();a.selectNodeContents(f);var g=window.getSelection();g.removeAllRanges();g.addRange(a);f.setSelectionRange(0,999999)}else f.select();try{e=document.execCommand("copy")}catch(a){e=!1}b.removeChild(f);d!=null&&d.focus();return e}function d(a){var c=window.navigator;if(c&&c.clipboard&&typeof c.clipboard.writeText==="function")return c.clipboard.writeText(a);return h(a)?b("Promise").resolve():b("Promise").reject()}g.isSupported=a;g.copy=h;g.copyAsync=d}),98);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("MDSImage.react",["BaseImage.react","CometImageFromIXValue.react","mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef;function a(a,b){var d=j(null),e=i(function(){return c("mergeRefs")(d,b)},[d,b]),f=a.alt;a.onError;a.onLoad;var g=a.src,k=a.testid;k=babelHelpers.objectWithoutPropertiesLoose(a,["alt","onError","onLoad","src","testid"]);return typeof g==="string"?h.jsx(c("BaseImage.react"),babelHelpers["extends"]({},k,{alt:f,ref:e,src:g,testid:void 0})):h.jsx(c("CometImageFromIXValue.react"),{alt:f,ref:e,source:g,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("IGDSPollPanoOutline24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M14.997 18.004h-11a1 1 0 0 0 0 2h11a1 1 0 0 0 0-2ZM20 11H4a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2ZM3.995 6.003h6a1 1 0 0 0 0-2h-6a1 1 0 1 0 0 2Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDComposerPollButton.react",["fbt","CometLazyDialogTrigger.react","IGDBroadcastChannelQPL","IGDSIconButton.react","IGDSPollPanoOutline24Icon","JSResourceForInteraction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.threadKey;var b=d("IGDBroadcastChannelQPL").useLogCreatePollStart(a);return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){},threadKey:a},dialogResource:c("JSResourceForInteraction")("IGDChatPollCreateDialog.react").__setRef("IGDComposerPollButton.react"),children:function(a){return i.jsx(c("IGDSIconButton.react"),{onClick:function(){b(),a()},children:i.jsx(c("IGDSPollPanoOutline24Icon"),{alt:h._("__JHASH__J5UGEKNSVBS__JHASH__").toString(),color:"ig-primary-text",size:24})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ConversationScrollerRefs.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function a(){var a=i(null),b=i({_0:void 0,TAG:0});return h(function(){return{scrollerRef:a,scrollPositionRef:b}},[])}g.useHook=a}),98);
__d("MWV2CurrentVisibleMessage.bs",["I64","Int64Hooks","LSFactory","LSMessagePointQuery","MWMessageElementRefList.bs","MWPVisibleMessageContext.react","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml_option","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a,b){var e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),f=e.visibleMessage,g=i(d("MWMessageElementRefList.bs").make());e=a!=null?a.threadKey:void 0;var k=a!=null?a.threadType:void 0,l=i(),m=c("useReStore")(),n=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){if(a==null)return d("SortedAsyncIterable.bs").empty();if(f==null)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(m.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0});var b=f.timestamp;return d("ReQL.bs").filter(d("ReQL.bs").bounds(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(m.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0}),{NAME:"lessThanOrEqual",VAL:{hd:b,tl:0}}),function(a){if(d("I64").ge(b,a.minTimestampMs))return d("I64").le(b,a.maxTimestampMs);else return!1})},[m,f,e]),"8zu4o1pf"),o=j(function(){return n}),p=o[0],q=o[1];h(function(){l.current=void 0;var a=b.current;!(f==null)||a==null||a.scrollToBottom()},[f]);var r=function(a){var d=b.current;if(!(d==null)){c("setTimeout")(function(){return d.scrollElementIntoViewIfNeeded(a)},0);return}},s=function(a){if(a!==l.current)return g.current.get(a,function(b){r(b),l.current=a})};h(function(){n!=null?q(n):f==null&&q(function(){})},[f,n,q]);h(function(){!(f==null)&&p!=null&&s(f.messageId)},[m,f,p,s]);d("Int64Hooks").useEffectInt64(function(){if(a!=null&&n==null&&!(f==null)){var b=f.messageId;c("promiseDone")(m.runInTransaction(function(d){return c("LSMessagePointQuery")(a.threadKey,b,a.threadType,c("LSFactory")(d))},"readwrite"))}},[m,f,n,e,k]);return{messageElementRefs:g,messageRange:p,visibleMessage:f==null?void 0:c("bs_caml_option").some(f)}}g.useHook=a}),98);
__d("IGDBroadcastChannelComposerBanner.react",["fbt","I64","IGDSBox.react","IGDSDivider.react","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon","MWV2ConversationScrollerRefs.bs","MWV2CurrentVisibleMessage.bs","PolarisGenericStrings","ReQL","ReQLSuspense","ThreadStatus","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){a=a.thread;var b=d("MWV2ConversationScrollerRefs.bs").useHook(),e=j(!1),g=e[0],l=e[1];e=d("MWV2CurrentVisibleMessage.bs").useHook(a,b.scrollerRef);b=e.messageRange;b=(e=b==null?void 0:b.isLoadingBefore)!=null?e:!1;var m=a.threadKey,n=c("useReStore")();e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(n.table("messages")).getKeyRange(m).filter(function(a){return!a.isAdminMessage})},[n,m],f.id+":49");var o=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(n.table("attachments")).getKeyRange(m)},[n,m],f.id+":58");e=e!=null||o!=null;o=a.threadStatus!=null&&d("I64").equal(a.threadStatus,d("I64").of_int32(c("ThreadStatus").PAUSED));return g||e||o||b?null:i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSDivider.react"),{}),i.jsxs(c("IGDSBox.react"),{marginEnd:2,marginStart:4,children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",marginBottom:1,marginTop:4,children:[i.jsx(c("IGDSText.react"),{size:"body",children:h._("__JHASH__y89nCglpU4V__JHASH__")}),i.jsx(c("IGDSIconButton.react"),{onClick:function(){return l(!0)},xstyle:k.icon,children:i.jsx(c("IGDSXFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:8})})]}),i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._("__JHASH__zRrdYbS3VRC__JHASH__")})]})]})}a.displayName=a.name+" [from "+f.id+"]";var k={icon:{$$css:!0}};g["default"]=a}),98);
__d("IGDDefaultNullState.react",["fbt","CometTransientDialogProvider.react","IGDBaseNullState.react","IGDEntryPoints","IGDSButton.react","IGDSDialogPlaceholder.react","IGDThreadListNewMessageDialogEntrypointProvider.react","JSResourceForInteraction","react","useIGDSLazyDialog","useOpenOrCreateThreadFromIGDCandidate","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function k(){var a=c("JSResourceForInteraction")("IGDThreadListNewMessageDialog.react").__setRef("IGDDefaultNullState.react"),b=c("useOpenOrCreateThreadFromIGDCandidate")(),e=h._("__JHASH__k5xqarxwV_N__JHASH__"),f=h._("__JHASH__vR4AzoRQQ7a__JHASH__");a=c("useIGDSLazyDialog")(a,function(a){return i.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})});var g=a[0];a=j(function(){var a=c("uuidv4")();g({flowInstanceId:a,onSubmit:b})},[g,b]);var k=d("IGDEntryPoints").IGDEntryPoints.PRIMARY_FOLDER_NULL_STATE;return i.jsx(c("IGDBaseNullState.react"),{descriptionText:f,titleText:e,children:i.jsx(d("IGDThreadListNewMessageDialogEntrypointProvider.react").IGDThreadListNewMessageDialogEntrypointProvider,{entrypoint:k,children:i.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__KWQ3qsJPYJB__JHASH__"),onClick:a})})})}k.displayName=k.name+" [from "+f.id+"]";function a(){return i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(k,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDHiddenMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSEyeOffOutlineIcon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=h._("__JHASH__gRXjMzOh6Kl__JHASH__"),b=h._("__JHASH__7D5_k8OTQ2Q__JHASH__");return i.jsx(c("IGDBaseNullState.react"),{descriptionText:b,icon:i.jsx("div",{className:"x1si55xp x1ytn0bq xwmsxv7 x14y6yro x11rfzx0 x1l9up10 xutqcms x89lhf x9f619 xjp8j0k x1qim8zg x13oubkp x1g8yoln",children:i.jsx(c("IGDSEyeOffOutlineIcon"),{alt:"",color:"ig-primary-text",size:48})}),titleText:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreUserRequestedPanoOutline24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M15.507 12.752a4.5 4.5 0 1 0-4.501-4.5 4.505 4.505 0 0 0 4.5 4.5Zm0-7a2.5 2.5 0 1 1-2.501 2.5 2.502 2.502 0 0 1 2.5-2.5Zm2.444 8.252h-4.907a5.054 5.054 0 0 0-5.049 5.049v.447a1 1 0 0 0 2 0v-.447a3.053 3.053 0 0 1 3.049-3.05h4.907a3.053 3.053 0 0 1 3.05 3.05v.447a1 1 0 0 0 2 0v-.447a5.055 5.055 0 0 0-5.05-5.05Zm-8.286-2.392a.88.88 0 0 0 0-1.224c-.009-.008-.012-.02-.02-.03L6.685 7.4a.907.907 0 0 0-1.283 1.284l1.41 1.409h-4.81a.907.907 0 1 0 0 1.814h4.81l-1.41 1.41a.907.907 0 0 0 1.284 1.284l2.959-2.96c.008-.008.011-.02.02-.03Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","PolarisIGCoreUserRequestedPanoOutline24Icon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=h._("__JHASH__mx2FhBkiHjp__JHASH__"),b=h._("__JHASH__EBrmQwHoVRM__JHASH__");return i.jsx(c("IGDBaseNullState.react"),{descriptionText:b,icon:i.jsx("div",{className:"x1si55xp x1ytn0bq xwmsxv7 x14y6yro x11rfzx0 x1l9up10 xutqcms x89lhf x9f619 xjp8j0k x5ib6vp x1qim8zg x13oubkp",children:i.jsx(c("PolarisIGCoreUserRequestedPanoOutline24Icon"),{alt:"",color:"ig-primary-text",size:48})}),titleText:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsChannelsTabSelected.react",["I64","IGDProfessionalIGFolderContext.react","IgTags_InboxFolder","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),b=d("IGDProfessionalIGFolderContext.react").useIGDProfessionalFolder();return a&&d("I64").equal(b,d("LSIntEnum").ofNumber(c("IgTags_InboxFolder").SUBSCRIBER))}g["default"]=a}),98);
__d("IGDNullState.react",["IGDDefaultNullState.react","IGDHiddenMessageRequestsNullState.react","IGDMessageRequestsNullState.react","IGDRouteProvider.react","cr:7116","react","useIsChannelsTabSelected.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("IGDRouteProvider.react").useIsCurrentRouteMessageRequests(),e=d("IGDRouteProvider.react").useIsCurrentRouteMessageHiddenRequests(),f=c("useIsChannelsTabSelected.react")();if(a)return h.jsx(c("IGDMessageRequestsNullState.react"),{});else if(e)return h.jsx(c("IGDHiddenMessageRequestsNullState.react"),{});else if(f&&b("cr:7116")!=null)return h.jsx(b("cr:7116"),{});else return h.jsx(c("IGDDefaultNullState.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDOpenThreadContainer.react",["I64","IGDNullState.react","IGDThread.react","InteractionTracing","LSFactory","LSVerifyThreadRowExists","ReQL","ReQLSuspense","promiseDone","react","useReStore","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.memo;var i=b.useCallback,j=b.useEffect;function a(a){a=a.threadKey;var b=d("useStableValue").useStableI64(a),e=c("useReStore")(),g=i(function(a){return e.runInTransaction(function(b){return c("LSVerifyThreadRowExists")(a,void 0,d("I64").of_int32(1),c("LSFactory")(b))},"readwrite")},[e]);j(function(){c("promiseDone")(g(b))},[b,g]);a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(b)},[e,b],f.id+":52");if(a!=null)return h.jsx(c("IGDThread.react"),{thread:a});else{c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("rendered_direct_null_state",1)});return h.jsx(c("IGDNullState.react"),{})}}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("useIGDBroadcastChannelImpressionLogger",["promiseDone","react","useIGDBroadcastChannelLogger","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=c("useIGDBroadcastChannelLogger")(),d=h(function(){c("promiseDone")(b(a))},[b,a]);return c("useSinglePartialViewImpression")({onImpressionStart:d})}g["default"]=a}),98);
__d("IGDChannelsNullState.react",["fbt","ix","CometLazyDialogTrigger.react","CometTransientDialogProvider.react","IGDBaseNullState.react","IGDBroadcastChannelLoggingShapes","IGDBroadcastChannelQPL","IGDSBox.react","IGDSButton.react","IGDSDialogPlaceholder.react","JSResourceForInteraction","MDSImage.react","react","useIGDBroadcastChannelImpressionLogger"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("IGDCreateBroadcastChannelDialogRoot.react").__setRef("IGDChannelsNullState.react"),l=i("374845");function a(){var a=c("useIGDBroadcastChannelImpressionLogger")(babelHelpers["extends"]({},d("IGDBroadcastChannelLoggingShapes").BROADCAST_CHAT_OPTION_VIEWED_SHAPE,{extra:{entry_point:"channel_folder_null_state"}})),b=h._("__JHASH__SXSJCbyMKBu__JHASH__"),e=h._("__JHASH__3oZPxfdKGzU__JHASH__");return j.jsx(c("IGDBaseNullState.react"),{descriptionText:e,icon:j.jsx(c("MDSImage.react"),{src:l}),titleText:b,children:j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{},dialogResource:k,fallback:function(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})},children:function(b){return j.jsx(c("IGDSBox.react"),{containerRef:a,children:j.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__xmqjyyyXhvZ__JHASH__"),onClick:function(){d("IGDBroadcastChannelQPL").logCreateChannelStartFromChannelFolderNullState(),b()}})})}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemDefaultXMAContent.react",["IGDXMAAttachmentItemBody.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPreview.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,d=a.attachmentItem,e=a.getFaviconUrlXMA,f=a.getHeaderImageUrlXMA;a=a.getPreviewImageUrlXMA;e=e==null?void 0:e(b,d);return h.jsxs(h.Fragment,{children:[h.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:b,attachmentItem:d,getHeaderImageUrlXMA:f}),h.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:d,getPreviewImageUrlXMA:a}),h.jsx(c("IGDXMAAttachmentItemBody.react"),{attachment:b,attachmentItem:d,favIconUrl:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},connectBottomIncoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectBottomOutgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},connectTopIncoming:{borderTopStartRadius:"x1lcm9me",$$css:!0},connectTopOutgoing:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b=a.centered;b=b===void 0?!1:b;var e=a.children,f=a.connectBottom,g=a.connectTop,j=a.outgoing,k=a.xmaLayout;a=a.xstyle;return h.jsx("div",{className:c("stylex")(a,g&&k!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&i.connectTop,g&&j&&i.connectTopOutgoing,g&&!j&&i.connectTopIncoming,f&&j&&i.connectBottomOutgoing,f&&!j&&i.connectBottomIncoming,b&&i.centered),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentCentered.react",["IGDXMAAttachmentItemDefaultXMAContent.react","MWXMAAttachmentVerticalLayout.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={card:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",height:"x5yr21d",minWidth:"x1qx9l9d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.connectBottom,g=a.connectTop,j=a.getFaviconUrlXMA,k=a.getHeaderImageUrlXMA,l=a.getPreviewImageUrlXMA;a=a.outgoing;return h.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:f,connectTop:g,outgoing:a,xmaLayout:d("xmaLayouts").XMA_LAYOUTS.DEFAULT,xstyle:i.card,children:h.jsx(c("IGDXMAAttachmentItemDefaultXMAContent.react"),{attachment:b,attachmentItem:e,getFaviconUrlXMA:j,getHeaderImageUrlXMA:k,getPreviewImageUrlXMA:l})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useStatesInMap",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a,b){var c=i(a),d=i({}),e=j(b),f=e[0],g=e[1];h(function(){if(c.current!==a){var e;c.current=a;g((e=d.current[a])!=null?e:b)}},[d,g,c,a,b]);h(function(){d.current[a]=f},[f,a]);return[f,g]}g["default"]=a}),98);
__d("CometWarningScreenContext",["react","useStatesInMap"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");d=d("react");var i=d.createContext,j=d.useCallback,k=d.useContext,l=d.useMemo,m=i({makeContentVisibleDespiteOverlay:function(){},overlaySettings:{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:!1,overlayExists:!1,overlayShown:!1,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:null},setAdditionalRequiredHeight:function(){},setIsOnFeedMedia:function(){},setOverlayExists:function(){},setParentRenderInstructions:function(){},showOverlay:function(){}});function a(a){var b=a.children,d=a.identifier,e=a.isOnFeedMedia,f=a.overlayExists,g=a.overlayShownOverride;a=a.videoController;e=c("useStatesInMap")(d,{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:e,overlayExists:f,overlayShown:(d=g)!=null?d:f,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:a});var i=e[0],k=e[1],n=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{overlayShown:a})})},[k]),o=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{isContentVisibleDespiteOverlay:a})})},[k]),p=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{overlayExists:a})})},[k]),q=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{isOnFeedMedia:a})})},[k]),r=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{additionalRequiredHeight:a})})},[k]),s=j(function(a){k(function(b){return babelHelpers["extends"]({},b,{parentRenderInstructions:a})})},[k]);g=l(function(){return{makeContentVisibleDespiteOverlay:o,overlaySettings:i,setAdditionalRequiredHeight:r,setIsOnFeedMedia:q,setOverlayExists:p,setParentRenderInstructions:s,showOverlay:n}},[i,r,n,o,p,s,q]);return h.jsx(m.Provider,{value:g,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=k(m);a=a.overlaySettings;return a.overlayExists}function e(){var a=k(m);a=a.overlaySettings;return a.videoController}function n(){var a=k(m);a=a.overlaySettings;return a.overlayShown}function o(){var a=k(m);a=a.overlaySettings;return a.isOnFeedMedia}function p(){var a=k(m);a=a.overlaySettings;return a.isContentVisibleDespiteOverlay}function q(){var a=n(),b=p();return!a?!0:b}function r(){var a=k(m);a=a.overlaySettings;return a.additionalRequiredHeight}function s(){var a=k(m);a=a.overlaySettings;return a.parentRenderInstructions}function t(){var a=k(m);a=a.showOverlay;return a}function u(){var a=k(m);a=a.makeContentVisibleDespiteOverlay;return a}function v(){var a=k(m);a=a.setOverlayExists;return a}function w(){var a=k(m);a=a.setIsOnFeedMedia;return a}function x(){var a=k(m);a=a.setAdditionalRequiredHeight;return a}function y(){var a=k(m);a=a.setParentRenderInstructions;return a}g.CometWarningScreenContextProvider=a;g.useHasOverlay=b;g.useHasVideoController=e;g.useIsOverlayShown=n;g.useIsOnFeedMedia=o;g.useIsContentVisibleDespiteOverlay=p;g.useIsContentVisible=q;g.useAdditionalRequiredHeight=r;g.useParentRenderInstructions=s;g.useShowOverlay=t;g.useMakeContentVisibleDespiteOverlay=u;g.useSetOverlayExists=v;g.useSetIsOnFeedMedia=w;g.useSetAdditionalRequiredHeight=x;g.useSetParentRenderInstructions=y}),98);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onPress,e=a.onUserInteraction,f=a.shouldUnmute,g=d("VideoPlayerHooks").useController(),k=d("VideoPlayerHooks").useIsFullscreen(),l=d("VideoPlayerHooks").useLastMuteReason();a=k?h._("__JHASH__hwf7JoNGQNh__JHASH__"):h._("__JHASH__5hSxdUd3nQi__JHASH__");var m=function(){b&&b(),g.requestSetIsFullscreen(!k),f===!0&&l!=="user_initiated"&&g.setMuted(!1,"product_initiated"),e&&e({name:"video_fullscreen_button",type:"happened"})};return j.jsx(c("VideoPlayerControlIcon.react"),{icon:k?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),label:a,onPress:m,tooltip:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=5e3;function a(a){a=a===void 0?{}:a;var b=a.forceVisible,e=a.forceVisibleOnMount;a.isInteracting;a=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter();var f=a.ongoingInteractionsCount;a=a.onUserInteraction;var g=d("VideoPlayerHooks").useEnded(),k=d("VideoPlayerHooks").useIsHovering(),l=d("VideoPlayerHooks").usePaused(),m=d("VideoPlayerHooks").useIsMouseIdle(),n=d("VideoPlayerHooks").useVideoPlaybackEnded(),o=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",k&&!m,a);k=i(e===!0);var p=k[0],q=k[1];h(function(){if(!l&&p){var a=c("setTimeout")(function(){q(!1)},j);return function(){c("clearTimeout")(a)}}},[p,l]);b===!0||b===!1?m=b:o?m=!1:f>0||p?m=!0:l?m=g?n:!0:m=!1;return{isControlsVisible:m,onUserInteraction:a}}g["default"]=a}),98);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","emptyFunction","react","requireDeferred","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=(e=b("cr:1875194"))!=null?e:c("emptyFunction"),k=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),l=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function a(a){var e,f=a.forceVisible,g=a.forceVisibleOnMount,m=a.mutedButtonVisibility,n=a.pictureInPictureControl,o=a.renderExpandControl,p=a.shouldRenderBigPlayButton,q=a.shouldRenderCaptionsControl,r=a.shouldRenderCostreamControl,s=a.shouldRenderExpandSidePanelControl,t=a.shouldRenderLivePauseControl,u=a.shouldRenderModeratorControl,v=a.shouldRenderQuietModeControl,w=a.shouldRenderWatchAndScrollControl,x=a.shouldUnmuteForBigPlayButton,y=a.skipControl,z=a.subOrigin,A=a.video;a=a.videoTahoeUrl;A=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControls_video.graphql"),A);e=(e=d("CometWarningScreenContext").useIsContentVisible())!=null?e:!1;var B=j();B=B!=null?B.isSilentAtPlayhead:!1;var C=d("VideoPlayerHooks").useMuted(),D=d("VideoPlayerHooks").useIsLive();g=c("useVideoPlayerDefaultControlsVisibility")({forceVisible:f,forceVisibleOnMount:g});var E=g.isControlsVisible;g=g.onUserInteraction;p=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:p!=null?p:f===!1?!1:void 0,shouldUnmute:x});f=p.bigPlayButtonElement;x=p.bigPlayButtonIsVisible;p=E&&!x&&e;E=m===d("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?p:(C||p||B)&&!x;e=o!=null?o({onUserInteraction:g}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g});m=D?i.jsx(k,{expandControl:e,isControlsVisible:p,isVolumeControlVisible:E,onUserInteraction:g,pictureInPictureControl:n,shouldRenderCaptionsControl:q,shouldRenderCostreamControl:r,shouldRenderExpandSidePanelControl:s,shouldRenderModeratorControl:u,shouldRenderPauseControl:t,shouldRenderQuietModeControl:v,shouldRenderWatchAndScrollControl:w,subOrigin:z,video:A,videoTahoeUrl:a}):i.jsx(l,{expandControl:e,isControlsVisible:p,isVolumeControlVisible:E,onUserInteraction:g,pictureInPictureControl:n,shouldRenderCaptionsControl:q,shouldRenderExpandSidePanelControl:s,shouldRenderQuietModeControl:v,shouldRenderWatchAndScrollControl:w,skipControl:y,subOrigin:z,video:A,videoTahoeUrl:a});return i.jsxs(i.Fragment,{children:[f,i.jsx(c("CometPlaceholder.react"),{fallback:null,children:m})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDVideoPlayer.react",["fbt","CometPressable.react","PolarisUA","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l={playbackControllerOverlay:{cursor:"x1ypdohk",top:"x13vifvy",$$css:!0}},m=h._("__JHASH__gK3hm0A6Dw1__JHASH__"),n=h._("__JHASH__gVwe4fACV23__JHASH__");function o(){var a=d("VideoPlayerHooks").useController(),b=d("VideoPlayerHooks").usePaused(),e=d("VideoPlayerHooks").useMuted(),f=k(e);j(function(){f.current&&a.setMuted(!1,"product_initiated")},[a]);return i.jsx(c("CometPressable.react"),{"aria-label":b?m:n,onPress:function(){!b?a.pause("user_initiated"):a.play("user_initiated")},overlayDisabled:!0,role:"button",xstyle:l.playbackControllerOverlay})}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.isVideoGif;return a?null:i.jsx(c("VideoPlayerDefaultControls.react"),{forceVisibleOnMount:d("PolarisUA").isTouchDevice()})}function a(a){var b=a.fbid,e=a.hdSrc,f=a.isGif,g=a.originalHeight,h=a.originalWidth;a=a.sdSrc;e=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:e,hdSrcPreferred:!1,isExternalMedia:!1,sdSrc:a});if(e==null)return null;a=c("computeAspectRatio")(h,g);return i.jsx(c("VideoPlayerX.react"),{implementations:[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:e,typename:"VideoPlayerProgressiveImplementation"}],loopCount:-1,portalingEnabled:!1,subOrigin:"igd_thread",videoFBID:b,videoPixelsAspectRatio:a,children:i.jsxs(c("VideoPlayerSurface.react"),{children:[i.jsx(o,{}),i.jsx(p,{isVideoGif:(h=f)!=null?h:!1})]})},b)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXCardedDialogLoadingState.react",["cr:3133","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:3133")}),98);
__d("MAWDbXMA",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}f.convertNumbersToXMAIds=a;f.convertNumberToXMAId=b}),66);
__d("MAWAttachmentBlob.react",["LSSuspense","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","Promise","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map();function j(a){var e=h.get(a);if(e!=null)if(e.TAG===0)return c("LSSuspense").throwErrorOrPromise(e.value);else return e.value;e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a,10))}).then(function(c){h.set(a,{TAG:1,value:URL.createObjectURL((c=c)!=null?c:void 0)});return b("Promise").resolve()})["catch"](function(d){h.set(a,{TAG:1,value:""});c("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_e2ee_web",{error:d});return b("Promise").resolve()});h.set(a,{TAG:0,value:e});return c("LSSuspense").throwErrorOrPromise(e)}function a(a){if(a!=null&&a.hasMedia!==!1)return j(a.attachmentFbid);else if(a!=null&&a.hasXma!==!1)return k(a,"preview");else return""}function k(a,e){if(a==null)return"";var f=i.get(a.attachmentFbid+e);if(f!=null)if(f.TAG===0)return c("LSSuspense").throwErrorOrPromise(f.value);else return f.value;f=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByXMAId",{infoType:e,xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(a.attachmentFbid,10))}).then(function(c){i.set(a.attachmentFbid+e,{TAG:1,value:URL.createObjectURL((c=c)!=null?c:void 0)});return b("Promise").resolve()})["catch"](function(c){i.set(a.attachmentFbid+e,{TAG:1,value:""});return b("Promise").resolve()});i.set(a.attachmentFbid+e,{TAG:0,value:f});return c("LSSuspense").throwErrorOrPromise(f)}g.getAttachmentBlobNonOptional=j;g.getAttachmentBlob=a;g.getInfoUrlXMA=k}),98);/*FB_PKG_DELIM*/
__d("MAWInternalLog",["WALoggerDeferred","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function a(a){c("gkx")("2099")&&void d("WALoggerDeferred").LOG(h(),a)}g.internalLog=a}),98);
__d("useMWEncryptedBackupsIssueRangeQueryDeferred",["react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("MWEncryptedBackupsIssueRangeQuery.bs").__setRef("useMWEncryptedBackupsIssueRangeQueryDeferred");function a(){var a=c("useReStore")();return h(function(b,c,d,e){i.onReady(function(f){return f.runQuery(a,b,c,d,e)})},[a])}g["default"]=a}),98);
__d("MAWFetchMoreMessages",["I64","LSFactory","LSIssueMessagesRangeQuery","MAWBridgeSendAndReceive","MAWDbMsg","MAWInternalLog","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","gkx","promiseDone","react","useMWEncryptedBackupsIssueRangeQueryDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");var h=a.useCallback,i=a.useMemo;e={useFetchCutoverMessages:function(a,e){var g=c("useReStore")(),i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("messages_ranges_v2__generated")).getKeyRange(a)},[g,a],f.id+":39"),j=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(g.table("messages_ranges_v2__generated")).getKeyRange(e):d("ReQL").empty()},[g,e],f.id+":46"),k=h(function(a){c("promiseDone")(g.runInTransaction(function(d){if(e!=null&&j!=null)return c("LSIssueMessagesRangeQuery")(e,j.minTimestampMs,a,c("LSFactory")(d));else return b("Promise").resolve()},"readwrite"))},[g,j,e]),l=c("useMWEncryptedBackupsIssueRangeQueryDeferred")();return h(function(b){if(i==null)return;var e=i.hasMoreBefore,f=d("MAWDbMsg").toMsgId(i.minMessageId);c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(g,a,"MAWFetchMoreMessages",function(a,c,g){d("MAWInternalLog").internalLog("useFetchCutoverMessages: start loadMoreMsgs");return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"before",numMsgs:10,offsetMsgId:f,threadId:c}).then(function(a){d("MAWInternalLog").internalLog("useFetchCutoverMessages: response is "+a.hasMoreBefore.toString());if(a.hasMoreBefore)return;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:f,threadId:c}).then(function(a){l(c,d("I64").of_float(a.minMsgTimestampMs),d("I64").of_string("10"),d("I64").zero);if(!e)return k(b)})})}))},[i,g,a,l,k])},useFetchSecureMessages:function(){var a=c("useReStore")(),e=c("useMWEncryptedBackupsIssueRangeQueryDeferred")();return i(function(){return function(f,g,h){d("MAWInternalLog").internalLog("useFetchSecureMessages: started to get message range");return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("messages_ranges_v2__generated")).getKeyRange(g)).then(function(i){if(i!=null&&!i.isLoadingBefore&&h==="before")return d("MAWMiActOnActThreadReady").onActThreadReady(a,g,"MAWFetchMoreMessages",function(a,b,g){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");return f.table("messages_ranges_v2__generated").put({hasMoreAfter:i.hasMoreAfter,hasMoreBefore:i.hasMoreBefore,isLoadingAfter:i.isLoadingAfter,isLoadingBefore:!0,maxMessageId:i.maxMessageId,maxTimestampMs:i.maxTimestampMs,minMessageId:i.minMessageId,minTimestampMs:i.minTimestampMs,threadKey:i.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:h,numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(i.minMessageId),threadId:b}).then(function(a){d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+a.hasMoreBefore.toString());if(a.hasMoreBefore)return;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:d("MAWDbMsg").toMsgId(i.minMessageId),threadId:b}).then(function(a){d("MAWInternalLog").internalLog("useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);return e(b,d("I64").of_float(a.minMsgTimestampMs),d("I64").of_string("10"),d("I64").zero)})}))})});return c("gkx")("8830")&&i!=null&&!i.isLoadingAfter&&h==="after"?d("MAWMiActOnActThreadReady").onActThreadReady(a,g,"MAWFetchMoreMessages",function(a,b,e){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");return f.table("messages_ranges_v2__generated").put({hasMoreAfter:i.hasMoreAfter,hasMoreBefore:i.hasMoreBefore,isLoadingAfter:!0,isLoadingBefore:i.isLoadingBefore,maxMessageId:i.maxMessageId,maxTimestampMs:i.maxTimestampMs,minMessageId:i.minMessageId,minTimestampMs:i.minTimestampMs,threadKey:i.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"after",numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(i.maxMessageId),threadId:b}).then(function(a){d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+a.hasMoreAfter.toString())}))})}):b("Promise").resolve()})}},[a,e])}};a=e;g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSFeatureLimitsType",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONLY:1,GENERIC_READ_ONLY_BLOCK:2,MESSAGE_SEND:4,MESSENGER_ONLY_ACCOUNTS_READ_ONLY_BLOCK:8});f["default"]=a}),66);
__d("MWPFeatureLimitedData.bs",["I64","LSFeatureLimitsType","LSIntEnum","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").READ_ONLY),d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)];function i(a){for(var b=0;b<h.length;b++){var c=h[b];if(d("I64").equal(c,a.type_))return!0}return!1}var j=function(a){var b=d("I64").of_float(Date.now()/1e3);return d("ReQL").fromTableAscending(a.table("feature_limits")).filter(function(a){return i(a)&&d("I64").gt(a.expirationTimestampSeconds,b)})};function a(){var a=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return j(a)},[a],f.id+":66")}g.readonlyFeatureLimitQuery=j;g.useReadOnlyFeatureLimitData=a}),98);
__d("MWLSFeatureLimitedStatus.bs",["MWPFeatureLimitedData.bs","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWPFeatureLimitedData.bs").useReadOnlyFeatureLimitData();if(a!=null)return c("gkx")("1908348");else return!1}g.useIsReadOnlyFeatureLimited=a}),98);
__d("IGDSLinkOutlineIcon",["IGDSLinkPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSLinkPanoOutlineIcon"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MWJumpToMessageLogger.bs",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction.bs","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction.bs").set(b,g);e!=null&&(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",d("I64").to_string(f));return a.onComplete(function(){return c("bs_js_dict").unsafeDeleteKey(d("MWChatInteraction.bs").interactions,b)})}g.startHeroInteractionTrace=a}),98);
__d("useMWJumpToMessage",["LSMessagingInitiatingSourceHook.bs","MWJumpToMessageLogger.bs","MWPVisibleMessageContext.react","MWVersion.bs","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return h(function(b,c,h,i){var j=h!=null?h:"",k=i!=null?i:[];return g(function(g){e({contextLine:j,highlights:k,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger.bs").startHeroInteractionTrace(g,b,f,d("MWVersion.bs").v2)})},[a,e,g,f])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useGetContactsToShow",["I64","LSMediaUrl.bs","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=function(a){return a.filter(function(a){return!d("I64").equal(a.id,c)})},f=b.length,g=[];if(f!==0){var h=b[0],i=b[1];e=e(b.filter(Boolean).filter(function(a){return d("LSMediaUrl.bs").Contact.profilePictureUrl(a)!==""}));switch(f){case 1:h!=null&&d("LSMediaUrl.bs").Contact.profilePictureUrl(h)!==""&&(g=[h]);break;case 2:d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&e.length===1&&d("LSMediaUrl.bs").Contact.profilePictureUrl(e[0])!==""?g=[e[0]]:d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&h!=null&&i!=null&&d("LSMediaUrl.bs").Contact.profilePictureUrl(h)!==""&&d("LSMediaUrl.bs").Contact.profilePictureUrl(i)!==""&&(g=[h,i]);break;default:e.length>=2&&(g=e)}}return g.sort(function(a,b){return b.rank-a.rank}).slice(0,2)}g["default"]=a}),98);
__d("useMWFacepileGetContactsToShow",["MWPActor.react","ReQL","ReQLSuspense","useGetContactsToShow","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPActor.react").useActor(),e=c("useReStore")(),g=a.threadKey,h=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(g),d("ReQL").fromTableAscending(e.table("contacts"))).take(3)},[e,g],f.id+":49").map(function(a){a[0];a=a[1];return a});return c("useGetContactsToShow")(a,h,b)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useMWPIsThreadMuted",["I64","ServerTime","clearTimeout","react","setTimeout","useIsMountedRef"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function j(a){var b=Math.min(d("I64").to_float(a.muteExpireTimeMs),d("I64").to_float(a.muteCallsExpireTimeMs));a=Math.max(d("I64").to_float(a.muteExpireTimeMs),d("I64").to_float(a.muteCallsExpireTimeMs));if(b===-1)return-1;else return a}function k(a){if(a<=-1)return!0;else return a>d("ServerTime").getMillis()}function a(a){var b=j(a),e=c("useIsMountedRef")();a=i(function(){return k(b)});var f=a[0],g=a[1];h(function(){var a=k(b);g(a);var f=b===-1;if(!(a&&!f))return;var h=c("setTimeout")(function(){if(e.current)return g(!1)},b-d("ServerTime").getMillis());return function(){c("clearTimeout")(h)}},[b,g,e]);return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWPVisibleMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");d=e.createContext;var i=e.useContext,j=e.useMemo,k=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var l=d(e);function a(a){a=a.children;var b=k(),c=b[0],d=b[1];b=j(function(){return{setVisibleMessage:d,visibleMessage:c}},[c,d]);return h.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(l)}g.MWPVisibleMessageContext=l;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);